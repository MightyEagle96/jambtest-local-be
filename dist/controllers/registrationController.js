'use strict';function a11_0xacc5(_0x3e78fe,_0x249265){const _0x386509=a11_0x3865();return a11_0xacc5=function(_0xacc51a,_0x31a5ce){_0xacc51a=_0xacc51a-0x146;let _0x2d34f4=_0x386509[_0xacc51a];return _0x2d34f4;},a11_0xacc5(_0x3e78fe,_0x249265);}const a11_0x137e6=a11_0xacc5;(function(_0x1c350d,_0x8c33e2){const _0x435d52=a11_0xacc5,_0x4702c9=_0x1c350d();while(!![]){try{const _0x2b49c7=parseInt(_0x435d52(0x15d))/0x1+-parseInt(_0x435d52(0x150))/0x2*(parseInt(_0x435d52(0x14a))/0x3)+-parseInt(_0x435d52(0x146))/0x4+-parseInt(_0x435d52(0x153))/0x5*(parseInt(_0x435d52(0x18c))/0x6)+parseInt(_0x435d52(0x163))/0x7+parseInt(_0x435d52(0x149))/0x8*(parseInt(_0x435d52(0x14c))/0x9)+-parseInt(_0x435d52(0x15f))/0xa*(-parseInt(_0x435d52(0x156))/0xb);if(_0x2b49c7===_0x8c33e2)break;else _0x4702c9['push'](_0x4702c9['shift']());}catch(_0x134592){_0x4702c9['push'](_0x4702c9['shift']());}}}(a11_0x3865,0x93d7e));var __awaiter=this&&this[a11_0x137e6(0x174)]||function(_0x4d2de1,_0x38b446,_0x25dc56,_0x400c95){function _0x4c9681(_0x12916c){return _0x12916c instanceof _0x25dc56?_0x12916c:new _0x25dc56(function(_0x279a06){_0x279a06(_0x12916c);});}return new(_0x25dc56||(_0x25dc56=Promise))(function(_0x53cd6b,_0x25684d){const _0x58a144=a11_0xacc5;function _0x2a55b7(_0x17248e){const _0x4dd820=a11_0xacc5;try{_0x50daae(_0x400c95[_0x4dd820(0x147)](_0x17248e));}catch(_0x5d9283){_0x25684d(_0x5d9283);}}function _0x4bc04b(_0x213cef){const _0x21407b=a11_0xacc5;try{_0x50daae(_0x400c95[_0x21407b(0x148)](_0x213cef));}catch(_0x441901){_0x25684d(_0x441901);}}function _0x50daae(_0x2be922){const _0x14a35a=a11_0xacc5;_0x2be922[_0x14a35a(0x190)]?_0x53cd6b(_0x2be922[_0x14a35a(0x161)]):_0x4c9681(_0x2be922[_0x14a35a(0x161)])['then'](_0x2a55b7,_0x4bc04b);}_0x50daae((_0x400c95=_0x400c95[_0x58a144(0x17f)](_0x4d2de1,_0x38b446||[]))[_0x58a144(0x147)]());});},__importDefault=this&&this[a11_0x137e6(0x177)]||function(_0x5af799){const _0x3a56b1=a11_0x137e6;return _0x5af799&&_0x5af799[_0x3a56b1(0x18a)]?_0x5af799:{'default':_0x5af799};};Object[a11_0x137e6(0x16a)](exports,a11_0x137e6(0x18a),{'value':!![]}),exports[a11_0x137e6(0x16f)]=exports[a11_0x137e6(0x15e)]=exports[a11_0x137e6(0x183)]=exports[a11_0x137e6(0x172)]=exports['fetchInfractionReports']=exports['deleteComputers']=exports[a11_0x137e6(0x15b)]=exports[a11_0x137e6(0x196)]=exports['registerComputer']=void 0x0;const computerModel_1=__importDefault(require(a11_0x137e6(0x189))),centreModel_1=__importDefault(require(a11_0x137e6(0x17a))),appNetwork_1=require(a11_0x137e6(0x185)),registerComputer=(_0x4965e1,_0x48d69e)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x297bbf=a11_0x137e6;var _0xc0d300,_0x940db0;try{const _0x54cb08=yield centreModel_1[_0x297bbf(0x186)][_0x297bbf(0x178)]();if(!_0x54cb08)return _0x48d69e[_0x297bbf(0x18b)](0x190)['send']('Centre\x20not\x20found');const _0x1f36f1=_0x4965e1[_0x297bbf(0x18f)];if(!_0x1f36f1[_0x297bbf(0x152)]||!_0x1f36f1[_0x297bbf(0x18d)]||!_0x1f36f1[_0x297bbf(0x17e)]||_0x1f36f1['macAddresses']['length']===0x0)return _0x48d69e[_0x297bbf(0x18b)](0x190)['send'](_0x297bbf(0x17b));const _0x20f4b2=(_0xc0d300=_0x1f36f1[_0x297bbf(0x152)])===null||_0xc0d300===void 0x0?void 0x0:_0xc0d300[_0x297bbf(0x188)](),_0x1cf6b3=(_0x940db0=_0x1f36f1['processorId'])===null||_0x940db0===void 0x0?void 0x0:_0x940db0['toLowerCase'](),_0x380d73=(_0x1f36f1[_0x297bbf(0x17e)]||[])['map'](_0x3aab2d=>_0x3aab2d['toLowerCase']()),_0x4eacb8=yield computerModel_1[_0x297bbf(0x186)][_0x297bbf(0x178)]({'$and':[{'serialNumber':_0x20f4b2},{'processorId':_0x1cf6b3},{'macAddresses':{'$in':_0x380d73}}]});if(_0x4eacb8){let _0x31e79d=[];if(_0x4eacb8[_0x297bbf(0x152)]===_0x20f4b2)_0x31e79d[_0x297bbf(0x166)](_0x297bbf(0x151));if(_0x4eacb8[_0x297bbf(0x18d)]===_0x1cf6b3)_0x31e79d['push'](_0x297bbf(0x17d));if(_0x4eacb8[_0x297bbf(0x17e)][_0x297bbf(0x14e)](_0x470bdd=>_0x380d73[_0x297bbf(0x16e)](_0x470bdd)))_0x31e79d[_0x297bbf(0x166)](_0x297bbf(0x175));return _0x48d69e[_0x297bbf(0x18b)](0x190)[_0x297bbf(0x14b)](_0x297bbf(0x192)+_0x31e79d['join'](',\x20')+'.');}const _0x11e1da=new computerModel_1[(_0x297bbf(0x186))](Object['assign'](Object[_0x297bbf(0x164)]({},_0x1f36f1),{'serialNumber':_0x20f4b2,'processorId':_0x1cf6b3,'macAddresses':_0x380d73,'centre':_0x54cb08[_0x297bbf(0x184)]}));yield _0x11e1da[_0x297bbf(0x168)](),_0x48d69e[_0x297bbf(0x14b)](_0x297bbf(0x171));}catch(_0x49be54){console[_0x297bbf(0x16d)](_0x49be54),_0x48d69e[_0x297bbf(0x18b)](0x1f4)[_0x297bbf(0x14b)](_0x297bbf(0x16c));}});exports[a11_0x137e6(0x180)]=registerComputer;const viewRegisteredComputers=(_0x4308b0,_0x13e728)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1c755f=a11_0x137e6,_0x5c8641=_0x4308b0[_0x1c755f(0x162)][_0x1c755f(0x15c)]||0x1,_0x1307d3=_0x4308b0['query'][_0x1c755f(0x15a)]||0x32,_0x4c2922=yield computerModel_1['default'][_0x1c755f(0x179)]({})[_0x1c755f(0x18e)]((_0x5c8641-0x1)*_0x1307d3)[_0x1c755f(0x15a)](_0x1307d3)['lean'](),[_0x5e6769,_0x1f76f3,_0x4920bb,_0x12dbbb,_0x25053e]=yield Promise[_0x1c755f(0x194)]([computerModel_1[_0x1c755f(0x186)][_0x1c755f(0x191)](),computerModel_1[_0x1c755f(0x186)][_0x1c755f(0x191)]({'flagged':![]}),computerModel_1[_0x1c755f(0x186)]['countDocuments']({'flagged':!![]}),computerModel_1[_0x1c755f(0x186)][_0x1c755f(0x191)]({'status':_0x1c755f(0x157)}),computerModel_1[_0x1c755f(0x186)][_0x1c755f(0x191)]({'status':_0x1c755f(0x182)})]),_0x31d007=_0x4c2922[_0x1c755f(0x155)]((_0xcc46e,_0x2e7bfe)=>{const _0x59fbca=_0x1c755f;return Object[_0x59fbca(0x164)](Object[_0x59fbca(0x164)]({},_0xcc46e),{'id':(_0x5c8641-0x1)*_0x1307d3+_0x2e7bfe+0x1});});_0x13e728['send']({'total':_0x5e6769,'totalComputers':_0x31d007,'cleanComputers':_0x1f76f3,'infractions':_0x4920bb,'uploaded':_0x12dbbb,'notUploaded':_0x25053e});});exports[a11_0x137e6(0x196)]=viewRegisteredComputers;const uploadComputers=(_0x43960d,_0x3ea83a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x392185=a11_0x137e6;var _0x2699d4;const _0x26b727=yield computerModel_1[_0x392185(0x186)][_0x392185(0x179)]({'status':_0x392185(0x182)}),_0x207828=yield appNetwork_1[_0x392185(0x14d)]['post'](_0x392185(0x154),{'computers':_0x26b727,'centreId':(_0x2699d4=_0x43960d[_0x392185(0x169)])===null||_0x2699d4===void 0x0?void 0x0:_0x2699d4[_0x392185(0x184)][_0x392185(0x160)]()});_0x3ea83a[_0x392185(0x18b)](_0x207828[_0x392185(0x18b)])[_0x392185(0x14b)](_0x207828[_0x392185(0x173)]);});exports[a11_0x137e6(0x15b)]=uploadComputers;const deleteComputers=()=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){});exports[a11_0x137e6(0x14f)]=deleteComputers;const fetchInfractionReports=(_0x122b7d,_0x121a53)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x46bd3b=a11_0x137e6;var _0x4afd49;const _0x2883c7=yield appNetwork_1[_0x46bd3b(0x14d)]['get']('centre/infractions',{'headers':{'centreid':(_0x4afd49=_0x122b7d[_0x46bd3b(0x169)])===null||_0x4afd49===void 0x0?void 0x0:_0x4afd49[_0x46bd3b(0x184)][_0x46bd3b(0x160)]()},'params':{'page':_0x122b7d[_0x46bd3b(0x162)][_0x46bd3b(0x15c)]||0x1,'limit':_0x122b7d[_0x46bd3b(0x162)][_0x46bd3b(0x15a)]||0x32}});_0x121a53[_0x46bd3b(0x18b)](_0x2883c7[_0x46bd3b(0x18b)])['send'](_0x2883c7[_0x46bd3b(0x173)]);});exports[a11_0x137e6(0x16b)]=fetchInfractionReports;const getComputers=(_0x3e8f28,_0x454290)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x531bf5=a11_0x137e6;var _0x2030f4;try{const _0x29997e=yield appNetwork_1[_0x531bf5(0x14d)][_0x531bf5(0x17c)](_0x531bf5(0x165),{'params':{'centre':(_0x2030f4=_0x3e8f28['centre'])===null||_0x2030f4===void 0x0?void 0x0:_0x2030f4[_0x531bf5(0x184)][_0x531bf5(0x160)]()}});if(_0x29997e['status']===0xc8)yield computerModel_1[_0x531bf5(0x186)][_0x531bf5(0x170)](),yield computerModel_1['default'][_0x531bf5(0x193)](_0x29997e[_0x531bf5(0x173)]),_0x454290[_0x531bf5(0x14b)](_0x531bf5(0x195));else _0x454290[_0x531bf5(0x18b)](_0x29997e[_0x531bf5(0x18b)])[_0x531bf5(0x14b)](_0x531bf5(0x167));}catch(_0x549883){console['error'](_0x549883),_0x454290['status'](0x1f4)['send'](_0x531bf5(0x16c));}});exports[a11_0x137e6(0x172)]=getComputers;const deleteComputer=(_0x21f535,_0x39b8ee)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x37c3c8=a11_0x137e6;yield computerModel_1[_0x37c3c8(0x186)][_0x37c3c8(0x187)]({'_id':_0x21f535[_0x37c3c8(0x159)]['id']}),_0x39b8ee['send'](_0x37c3c8(0x181));});exports[a11_0x137e6(0x183)]=deleteComputer;const viewCleanedComputers=(_0x297f65,_0x3b8f5d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x29be76=a11_0x137e6,_0x9fb714=yield computerModel_1['default'][_0x29be76(0x179)]({'flagged':![]})[_0x29be76(0x176)]();_0x3b8f5d['send'](_0x9fb714);});exports[a11_0x137e6(0x15e)]=viewCleanedComputers;function a11_0x3865(){const _0x39003a=['toString','value','query','5428094phJvyb','assign','centre/centrecomputers','push','Could\x20not\x20import\x20new\x20computers','save','centre','defineProperty','fetchInfractionReports','Internal\x20server\x20error','error','includes','viewComputer','deleteMany','Computer\x20registered\x20successfully','getComputers','data','__awaiter','MAC\x20address','lean','__importDefault','findOne','find','../models/centreModel','Missing\x20required\x20fields','get','processor\x20ID','macAddresses','apply','registerComputer','Computer\x20deleted','not\x20uploaded','deleteComputer','_id','../appNetwork','default','deleteOne','toLowerCase','../models/computerModel','__esModule','status','695022NIlHdI','processorId','skip','body','done','countDocuments','Computer\x20already\x20registered\x20â€”\x20duplicate\x20','insertMany','all','New\x20computers\x20imported','viewRegisteredComputers','4507048odAMdG','next','throw','424LpEWry','39OJoCmD','send','170433NYmudC','httpService','some','deleteComputers','160642lOxnLh','serial\x20number','serialNumber','5MUWWFO','centre/uploadcomputer','map','22fTrCDf','uploaded','findById','params','limit','uploadComputers','page','8619zmMrnf','viewCleanedComputers','5523080akIYir'];a11_0x3865=function(){return _0x39003a;};return a11_0x3865();}const viewComputer=(_0x5b5779,_0x2ca2f7)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x571630=a11_0x137e6,_0x1e1c8d=yield computerModel_1[_0x571630(0x186)][_0x571630(0x158)](_0x5b5779[_0x571630(0x159)]['id'])[_0x571630(0x176)](),_0x956349=_0x5b5779['ip'];_0x2ca2f7[_0x571630(0x14b)](Object[_0x571630(0x164)](Object[_0x571630(0x164)]({},_0x1e1c8d),{'ip':_0x956349}));});exports[a11_0x137e6(0x16f)]=viewComputer;