'use strict';const a10_0x7d17c=a10_0x1f05;(function(_0x241311,_0xb69112){const _0x41b679=a10_0x1f05,_0x4cfa43=_0x241311();while(!![]){try{const _0x5d850d=parseInt(_0x41b679(0x140))/0x1+-parseInt(_0x41b679(0x15a))/0x2+-parseInt(_0x41b679(0x167))/0x3*(-parseInt(_0x41b679(0x16a))/0x4)+-parseInt(_0x41b679(0x15f))/0x5*(parseInt(_0x41b679(0x156))/0x6)+parseInt(_0x41b679(0x151))/0x7+-parseInt(_0x41b679(0x14f))/0x8*(parseInt(_0x41b679(0x1a2))/0x9)+parseInt(_0x41b679(0x18b))/0xa*(parseInt(_0x41b679(0x171))/0xb);if(_0x5d850d===_0xb69112)break;else _0x4cfa43['push'](_0x4cfa43['shift']());}catch(_0x1da328){_0x4cfa43['push'](_0x4cfa43['shift']());}}}(a10_0x6ae4,0x512b9));var __awaiter=this&&this[a10_0x7d17c(0x13b)]||function(_0x3f28a7,_0xd8eca,_0x276f33,_0xba5b7){function _0x40c412(_0x26a9d1){return _0x26a9d1 instanceof _0x276f33?_0x26a9d1:new _0x276f33(function(_0x4975ea){_0x4975ea(_0x26a9d1);});}return new(_0x276f33||(_0x276f33=Promise))(function(_0x31395a,_0x6ad1c3){const _0x29ad0c=a10_0x1f05;function _0x49b317(_0x25ad88){const _0x2d30fb=a10_0x1f05;try{_0x567202(_0xba5b7[_0x2d30fb(0x148)](_0x25ad88));}catch(_0xc073e1){_0x6ad1c3(_0xc073e1);}}function _0x4f809f(_0x314626){try{_0x567202(_0xba5b7['throw'](_0x314626));}catch(_0x1c9e14){_0x6ad1c3(_0x1c9e14);}}function _0x567202(_0x4bdba7){const _0x523043=a10_0x1f05;_0x4bdba7[_0x523043(0x18a)]?_0x31395a(_0x4bdba7['value']):_0x40c412(_0x4bdba7[_0x523043(0x174)])['then'](_0x49b317,_0x4f809f);}_0x567202((_0xba5b7=_0xba5b7[_0x29ad0c(0x182)](_0x3f28a7,_0xd8eca||[]))[_0x29ad0c(0x148)]());});},__importDefault=this&&this['__importDefault']||function(_0x3724a3){const _0x106704=a10_0x7d17c;return _0x3724a3&&_0x3724a3[_0x106704(0x195)]?_0x3724a3:{'default':_0x3724a3};};Object['defineProperty'](exports,a10_0x7d17c(0x195),{'value':!![]}),exports[a10_0x7d17c(0x13e)]=exports[a10_0x7d17c(0x15e)]=exports[a10_0x7d17c(0x163)]=exports[a10_0x7d17c(0x144)]=exports[a10_0x7d17c(0x170)]=exports['endNetworkTestForAdmin']=exports['toggleActivation']=exports['deleteNetworkTest']=exports[a10_0x7d17c(0x18c)]=exports[a10_0x7d17c(0x172)]=void 0x0;const appNetwork_1=require(a10_0x7d17c(0x1a1)),centreModel_1=__importDefault(require(a10_0x7d17c(0x1a0))),networkTest_1=__importDefault(require('../models/networkTest')),networkTestResponse_1=__importDefault(require(a10_0x7d17c(0x176))),mongoose_1=__importDefault(require(a10_0x7d17c(0x187))),computerModel_1=__importDefault(require(a10_0x7d17c(0x162))),generateId_1=require(a10_0x7d17c(0x13a)),activeTestIntervals=new Map(),checkLastActive=_0x5da802=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3fe1bb=a10_0x7d17c,_0x238aad=new Date(Date['now']()-0x3c*0x3e8),_0x1596a8=yield networkTestResponse_1['default'][_0x3fe1bb(0x141)]({'networkTest':_0x5da802,'updatedAt':{'$lt':_0x238aad}});for(const _0x504aa7 of _0x1596a8){_0x504aa7[_0x3fe1bb(0x155)]==='connected'&&(_0x504aa7[_0x3fe1bb(0x155)]=_0x3fe1bb(0x19e),_0x504aa7[_0x3fe1bb(0x164)]+=0x1,yield _0x504aa7['save']());}}),createNetworkTest=(_0x397bcd,_0x564483)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x345629=a10_0x7d17c;var _0x5460a7;const _0x3a67db=yield networkTest_1[_0x345629(0x17c)][_0x345629(0x15d)]({'status':{'$ne':_0x345629(0x161)}});if(_0x3a67db)return _0x564483['status'](0x190)[_0x345629(0x17e)]('A\x20test\x20is\x20yet\x20to\x20be\x20uploaded');const [_0x5ba4df,_0x20834e]=yield Promise[_0x345629(0x191)]([computerModel_1[_0x345629(0x17c)]['countDocuments'](),computerModel_1[_0x345629(0x17c)][_0x345629(0x175)]({'status':_0x345629(0x161)})]);if(_0x20834e===0x0)return _0x564483[_0x345629(0x155)](0x190)[_0x345629(0x17e)](_0x345629(0x181));if(_0x5ba4df!==_0x20834e)return _0x564483[_0x345629(0x155)](0x190)[_0x345629(0x17e)](_0x345629(0x19d));const _0x28da46=(0x0,generateId_1[_0x345629(0x168)])();_0x397bcd[_0x345629(0x18f)]['duration']=Number(_0x397bcd[_0x345629(0x18f)][_0x345629(0x17b)]*0x3c*0x3e8),_0x397bcd[_0x345629(0x18f)]['centre']=(_0x5460a7=_0x397bcd[_0x345629(0x17d)])===null||_0x5460a7===void 0x0?void 0x0:_0x5460a7[_0x345629(0x16b)][_0x345629(0x169)](),_0x397bcd[_0x345629(0x18f)][_0x345629(0x15b)]=_0x28da46,yield networkTest_1[_0x345629(0x17c)][_0x345629(0x14d)](_0x397bcd[_0x345629(0x18f)]),_0x564483[_0x345629(0x17e)](_0x345629(0x160));});exports[a10_0x7d17c(0x172)]=createNetworkTest;const viewNetworkTests=(_0x4316da,_0x3cad8f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4abaeb=a10_0x7d17c;var _0x490fdb,_0x8ed2f;try{const _0x28e2af=_0x4316da[_0x4abaeb(0x192)]['page']||0x1,_0x4b912a=_0x4316da[_0x4abaeb(0x192)]['limit']||0x32,_0x554b94=yield networkTest_1[_0x4abaeb(0x17c)]['find']({'centre':(_0x490fdb=_0x4316da[_0x4abaeb(0x17d)])===null||_0x490fdb===void 0x0?void 0x0:_0x490fdb['_id'][_0x4abaeb(0x169)]()})['skip']((_0x28e2af-0x1)*_0x4b912a)[_0x4abaeb(0x186)](_0x4b912a)[_0x4abaeb(0x149)](),_0x2eaae7=yield networkTest_1['default']['countDocuments']({'centre':(_0x8ed2f=_0x4316da['centre'])===null||_0x8ed2f===void 0x0?void 0x0:_0x8ed2f[_0x4abaeb(0x16b)][_0x4abaeb(0x169)]()}),_0x225873=_0x554b94['map']((_0x4e3703,_0x2eff8b)=>{const _0x5b2492=_0x4abaeb;return Object[_0x5b2492(0x194)](Object[_0x5b2492(0x194)]({},_0x4e3703),{'id':(_0x28e2af-0x1)*_0x4b912a+_0x2eff8b+0x1});});_0x3cad8f[_0x4abaeb(0x17e)]({'total':_0x2eaae7,'networkTests':_0x225873});}catch(_0x5b59ed){_0x3cad8f[_0x4abaeb(0x155)](0x1f4)[_0x4abaeb(0x17e)]('Internal\x20server\x20error');}});exports[a10_0x7d17c(0x18c)]=viewNetworkTests;const deleteNetworkTest=(_0x22438e,_0x560f6b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x39495e=a10_0x7d17c;try{const _0x1e6db1=_0x22438e['query']['id'],_0x2d1f5a=yield networkTest_1[_0x39495e(0x17c)]['findById'](_0x1e6db1);if(!_0x2d1f5a)return _0x560f6b[_0x39495e(0x155)](0x194)['send']('Network\x20test\x20not\x20found');if(_0x2d1f5a[_0x39495e(0x153)])return _0x560f6b['status'](0x190)[_0x39495e(0x17e)](_0x39495e(0x199));const _0x1d82ce=activeTestIntervals[_0x39495e(0x177)](_0x1e6db1);_0x1d82ce&&(clearInterval(_0x1d82ce),activeTestIntervals[_0x39495e(0x157)](_0x1e6db1)),yield networkTest_1[_0x39495e(0x17c)][_0x39495e(0x14a)](_0x1e6db1),yield networkTestResponse_1[_0x39495e(0x17c)][_0x39495e(0x18e)]({'networkTest':_0x1e6db1}),_0x560f6b[_0x39495e(0x17e)](_0x39495e(0x19f));}catch(_0x4cd64f){console['error'](_0x39495e(0x142),_0x4cd64f),_0x560f6b['status'](0x1f4)['send'](_0x39495e(0x14b));}});exports[a10_0x7d17c(0x150)]=deleteNetworkTest;const toggleActivation=(_0x1b8889,_0x47d48d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x33a0a8=a10_0x7d17c;try{const _0x18e700=_0x1b8889[_0x33a0a8(0x192)]['id'];if(!_0x18e700)return _0x47d48d[_0x33a0a8(0x155)](0x190)[_0x33a0a8(0x17e)](_0x33a0a8(0x19a));const _0x10fc1a=yield networkTest_1['default']['findById'](_0x18e700);console['log'](_0x10fc1a);if(!_0x10fc1a)return _0x47d48d[_0x33a0a8(0x155)](0x194)[_0x33a0a8(0x17e)]('Test\x20not\x20found');if(_0x10fc1a[_0x33a0a8(0x153)]){if(!_0x10fc1a['ended'])return _0x47d48d['status'](0x190)[_0x33a0a8(0x17e)]('Cannot\x20deactivate\x20â€”\x20test\x20not\x20ended\x20yet.');const _0x1f269d=activeTestIntervals[_0x33a0a8(0x177)](_0x18e700);return _0x1f269d&&(clearInterval(_0x1f269d),activeTestIntervals['delete'](_0x18e700)),_0x10fc1a[_0x33a0a8(0x153)]=![],_0x10fc1a[_0x33a0a8(0x13d)]=!![],_0x10fc1a[_0x33a0a8(0x197)]=new Date(),yield _0x10fc1a[_0x33a0a8(0x143)](),_0x47d48d[_0x33a0a8(0x17e)](_0x33a0a8(0x17f));}const _0x5c3717=yield networkTest_1[_0x33a0a8(0x17c)][_0x33a0a8(0x15d)]({'active':!![],'ended':![]});if(_0x5c3717)return _0x47d48d[_0x33a0a8(0x155)](0x190)[_0x33a0a8(0x17e)](_0x33a0a8(0x17a));activeTestIntervals[_0x33a0a8(0x154)](_0x18e700)&&(clearInterval(activeTestIntervals[_0x33a0a8(0x177)](_0x18e700)),activeTestIntervals['delete'](_0x18e700));yield networkTest_1['default'][_0x33a0a8(0x18d)]({'_id':_0x18e700},{'$set':{'active':!![],'ended':![],'timeActivated':new Date()}}),_0x10fc1a[_0x33a0a8(0x153)]=!![],_0x10fc1a[_0x33a0a8(0x13d)]=![],_0x10fc1a[_0x33a0a8(0x183)]=new Date(),yield _0x10fc1a[_0x33a0a8(0x143)]();const _0x1f4a78=setInterval(()=>{const _0x53d6b6=_0x33a0a8;checkLastActive(_0x18e700),console[_0x53d6b6(0x19b)]('['+new Date()[_0x53d6b6(0x137)]()+_0x53d6b6(0x147)+_0x18e700);},0xa*0x3e8);return activeTestIntervals['set'](_0x18e700,_0x1f4a78),_0x47d48d[_0x33a0a8(0x17e)](_0x33a0a8(0x139));}catch(_0x5976ee){console[_0x33a0a8(0x180)](_0x33a0a8(0x14c),_0x5976ee),_0x47d48d[_0x33a0a8(0x155)](0x1f4)[_0x33a0a8(0x17e)](_0x33a0a8(0x196));}});exports[a10_0x7d17c(0x13f)]=toggleActivation;const endNetworkTestForAdmin=(_0x1c293a,_0xcc792b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x390a9d=a10_0x7d17c;var _0x56e450,_0x318944;try{const _0x4fb58a=_0x1c293a[_0x390a9d(0x192)]['id'],_0x1c505c=yield networkTest_1[_0x390a9d(0x17c)][_0x390a9d(0x16c)](_0x4fb58a);if(!_0x1c505c)return _0xcc792b[_0x390a9d(0x155)](0x194)[_0x390a9d(0x17e)](_0x390a9d(0x152));const _0x1d2889=activeTestIntervals[_0x390a9d(0x177)](_0x4fb58a);_0x1d2889&&(clearInterval(_0x1d2889),activeTestIntervals[_0x390a9d(0x157)](_0x4fb58a));const [_0x439d87,_0x55788a,_0x1d7180,_0x1a6db4,_0x477b25,_0x53da15,_0x234e97]=yield Promise[_0x390a9d(0x191)]([networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x175)]({'networkTest':_0x4fb58a}),networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x175)]({'networkTest':_0x4fb58a,'status':_0x390a9d(0x190)}),networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x175)]({'networkTest':_0x4fb58a,'networkLosses':{'$gt':0x0}}),networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x15c)]([{'$match':{'networkTest':new mongoose_1[(_0x390a9d(0x17c))][(_0x390a9d(0x19c))][(_0x390a9d(0x178))](_0x4fb58a)}},{'$group':{'_id':null,'total':{'$sum':_0x390a9d(0x16e)}}}]),networkTestResponse_1['default'][_0x390a9d(0x175)]({'networkTest':_0x4fb58a,'status':'ended'}),networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x175)]({'networkTest':_0x4fb58a,'status':'disconnected'}),networkTestResponse_1[_0x390a9d(0x17c)][_0x390a9d(0x15c)]([{'$match':{'networkTest':new mongoose_1[(_0x390a9d(0x17c))][(_0x390a9d(0x19c))][(_0x390a9d(0x178))](_0x4fb58a)}},{'$group':{'_id':null,'total':{'$sum':_0x390a9d(0x146)}}}])]);yield networkTest_1['default'][_0x390a9d(0x18d)]({'_id':_0x4fb58a},{'$set':{'active':![],'ended':!![],'timeEnded':new Date(),'totalNetworkLosses':((_0x56e450=_0x1a6db4[0x0])===null||_0x56e450===void 0x0?void 0x0:_0x56e450['total'])||0x0,'computersWithNetworkLosses':_0x1d7180,'connectedComputers':_0x439d87,'endedComputers':_0x477b25,'lostInTransport':_0x53da15+_0x55788a,'responseThroughput':((((_0x318944=_0x234e97[0x0])===null||_0x318944===void 0x0?void 0x0:_0x318944[_0x390a9d(0x138)])||0x0)/(_0x439d87*(_0x1c505c===null||_0x1c505c===void 0x0?void 0x0:_0x1c505c['duration'])/0x3e8/0x3c)*0x64)[_0x390a9d(0x136)](0x2)}}),_0xcc792b['send'](_0x390a9d(0x16d));}catch(_0x18a321){console[_0x390a9d(0x180)]('End\x20network\x20test\x20error:',_0x18a321),_0xcc792b['status'](0x1f4)[_0x390a9d(0x17e)](_0x390a9d(0x135));}});exports[a10_0x7d17c(0x158)]=endNetworkTestForAdmin;function a10_0x6ae4(){const _0x5cc708=['get','ObjectId','computer','Another\x20test\x20is\x20currently\x20active\x20and\x20not\x20yet\x20ended.','duration','default','centre','send','Test\x20deactivated\x20successfully.','error','No\x20computers\x20uploaded','apply','timeActivated','networktest/uploadtest','responseThroughput','limit','mongoose','post','httpService','done','459970NIfnyR','viewNetworkTests','updateOne','deleteMany','body','connected','all','query','Centre\x20not\x20found','assign','__esModule','Internal\x20server\x20error.','timeEnded','params','Please\x20end\x20this\x20test\x20before\x20you\x20delete\x20it','Invalid\x20test\x20ID','log','Types','All\x20computers\x20must\x20be\x20uploaded\x20before\x20creating\x20a\x20test','disconnected','Network\x20test\x20deleted\x20successfully','../models/centreModel','../appNetwork','3438UwNhHX','sendStatus','Server\x20error','toFixed','toISOString','total','Test\x20activated\x20successfully.','./generateId','__awaiter','page','ended','retrieveNetworkTestSummary','toggleActivation','14955cAiOWA','find','Delete\x20network\x20test\x20error:','save','computerListUnderNetworkTest','pong','$responses',']\x20Background\x20check\x20for\x20','next','lean','findByIdAndDelete','Internal\x20server\x20error','Toggle\x20activation\x20error:','create','CentreCapacity','5336AWHLZS','deleteNetworkTest','1703821hhDEhH','Test\x20not\x20found','active','has','status','13758BdHZzy','delete','endNetworkTestForAdmin','map','367748GkfSmI','examId','aggregate','findOne','networkPing','865BAmKPk','New\x20network\x20test\x20created','uploaded','../models/computerModel','uploadNetworkTest','networkLosses','skip','totalNetworkLosses','39YXLsXA','generateId','toString','10932DvutJL','_id','findById','Test\x20ended\x20successfully','$networkLosses','data','networkTestDashboard','209dkCYEZ','createNetworkTest','connectedComputers','value','countDocuments','../models/networkTestResponse'];a10_0x6ae4=function(){return _0x5cc708;};return a10_0x6ae4();}const networkTestDashboard=(_0x4107d1,_0x56f501)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x575822=a10_0x7d17c;var _0x9d0f15,_0x36bf4c,_0x468a31,_0x5ae13f,_0x53a3cf;try{const _0x39875b=yield networkTest_1[_0x575822(0x17c)][_0x575822(0x16c)](_0x4107d1[_0x575822(0x192)]['id']);if(!_0x39875b)return _0x56f501['status'](0x190)['send']('Test\x20not\x20found');const [_0x420663,_0x5b842f,_0xaf75e4,_0x4eb55b,_0x3ec20c,_0x1f8cd7,_0x307fc4]=yield Promise[_0x575822(0x191)]([networkTestResponse_1['default'][_0x575822(0x175)]({'networkTest':_0x4107d1[_0x575822(0x192)]['id']}),networkTestResponse_1['default'][_0x575822(0x175)]({'networkTest':_0x4107d1['query']['id'],'status':_0x575822(0x190)}),networkTestResponse_1[_0x575822(0x17c)]['countDocuments']({'networkTest':_0x4107d1[_0x575822(0x192)]['id'],'networkLosses':{'$gt':0x0}}),networkTestResponse_1[_0x575822(0x17c)]['aggregate']([{'$match':{'networkTest':new mongoose_1[(_0x575822(0x17c))]['Types'][(_0x575822(0x178))]((_0x9d0f15=_0x4107d1[_0x575822(0x192)]['id'])===null||_0x9d0f15===void 0x0?void 0x0:_0x9d0f15[_0x575822(0x169)]())}},{'$group':{'_id':null,'total':{'$sum':'$networkLosses'}}}]),networkTestResponse_1[_0x575822(0x17c)][_0x575822(0x175)]({'networkTest':_0x4107d1[_0x575822(0x192)]['id'],'status':_0x575822(0x13d)}),networkTestResponse_1[_0x575822(0x17c)][_0x575822(0x175)]({'networkTest':_0x4107d1['query']['id'],'status':_0x575822(0x19e)}),networkTestResponse_1['default'][_0x575822(0x15c)]([{'$match':{'networkTest':new mongoose_1[(_0x575822(0x17c))]['Types'][(_0x575822(0x178))]((_0x36bf4c=_0x4107d1[_0x575822(0x192)]['id'])===null||_0x36bf4c===void 0x0?void 0x0:_0x36bf4c[_0x575822(0x169)]())}},{'$group':{'_id':null,'total':{'$sum':'$responses'}}}])]);_0x56f501['send']({'totalComputers':_0x420663,'connected':_0x5b842f,'computersWithNetworkLosses':_0xaf75e4,'totalNetworkLosses':((_0x468a31=_0x4eb55b[0x0])===null||_0x468a31===void 0x0?void 0x0:_0x468a31[_0x575822(0x138)])||0x0,'ended':_0x3ec20c,'disconnected':_0x1f8cd7,'totalResponses':((_0x5ae13f=_0x307fc4[0x0])===null||_0x5ae13f===void 0x0?void 0x0:_0x5ae13f[_0x575822(0x138)])||0x0,'expected':_0x420663*(_0x39875b===null||_0x39875b===void 0x0?void 0x0:_0x39875b['duration'])/0x3e8/0x3c,'responseThroughput':((((_0x53a3cf=_0x307fc4[0x0])===null||_0x53a3cf===void 0x0?void 0x0:_0x53a3cf[_0x575822(0x138)])||0x0)/(_0x420663*(_0x39875b===null||_0x39875b===void 0x0?void 0x0:_0x39875b[_0x575822(0x17b)])/0x3e8/0x3c)*0x64)[_0x575822(0x136)](0x2)});}catch(_0x9b2913){_0x56f501[_0x575822(0x155)](0x1f4)[_0x575822(0x17e)]('Server\x20error');}});exports[a10_0x7d17c(0x170)]=networkTestDashboard;const computerListUnderNetworkTest=(_0x384a71,_0x155915)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5b5c62=a10_0x7d17c,_0x246b5c=_0x384a71[_0x5b5c62(0x192)][_0x5b5c62(0x13c)]||0x1,_0x4caa35=_0x384a71[_0x5b5c62(0x192)][_0x5b5c62(0x186)]||0x32,_0x3dfb9d=yield networkTestResponse_1['default'][_0x5b5c62(0x141)]({'networkTest':_0x384a71[_0x5b5c62(0x198)]['id']})['populate'](_0x5b5c62(0x179))[_0x5b5c62(0x165)]((_0x246b5c-0x1)*_0x4caa35)[_0x5b5c62(0x186)](_0x4caa35)[_0x5b5c62(0x149)](),_0x3af8aa=yield networkTestResponse_1['default'][_0x5b5c62(0x175)]({'networkTest':_0x384a71[_0x5b5c62(0x198)]['id']}),_0x41a447=_0x3dfb9d[_0x5b5c62(0x159)]((_0x105b67,_0x5588af)=>{const _0x102f3f=_0x5b5c62;return Object['assign'](Object[_0x102f3f(0x194)]({},_0x105b67),{'id':(_0x246b5c-0x1)*_0x4caa35+_0x5588af+0x1});});_0x155915[_0x5b5c62(0x17e)]({'total':_0x3af8aa,'computers':_0x41a447});});exports[a10_0x7d17c(0x144)]=computerListUnderNetworkTest;const uploadNetworkTest=(_0x3aa8ee,_0x3c0007)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x162561=a10_0x7d17c;var _0x566c06;try{const _0x206216=_0x3aa8ee[_0x162561(0x192)]['id'],_0x31d2f5=yield networkTest_1[_0x162561(0x17c)][_0x162561(0x16c)](_0x206216),_0x300017=yield networkTestResponse_1[_0x162561(0x17c)][_0x162561(0x141)]({'networkTest':_0x206216}),_0x179288=yield appNetwork_1[_0x162561(0x189)][_0x162561(0x188)](_0x162561(0x184),{'networkTest':_0x31d2f5,'responses':_0x300017},{'params':{'centre':(_0x566c06=_0x3aa8ee[_0x162561(0x17d)])===null||_0x566c06===void 0x0?void 0x0:_0x566c06[_0x162561(0x16b)][_0x162561(0x169)]()}});_0x179288[_0x162561(0x155)]===0xc8&&(yield networkTest_1['default'][_0x162561(0x18d)]({'_id':_0x206216},{'status':'uploaded','timeUploaded':new Date()})),_0x3c0007[_0x162561(0x155)](_0x179288[_0x162561(0x155)])[_0x162561(0x17e)](_0x179288[_0x162561(0x16f)]);}catch(_0x5225be){_0x3c0007['status'](0x1f4)['send'](_0x162561(0x14b));}});exports[a10_0x7d17c(0x163)]=uploadNetworkTest;function a10_0x1f05(_0x1f28e1,_0x1e979f){const _0x6ae402=a10_0x6ae4();return a10_0x1f05=function(_0x1f05a6,_0x2ad96e){_0x1f05a6=_0x1f05a6-0x135;let _0xa9729a=_0x6ae402[_0x1f05a6];return _0xa9729a;},a10_0x1f05(_0x1f28e1,_0x1e979f);}const networkPing=(_0x34304e,_0xcdf006)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x141f63=a10_0x7d17c,_0x3f4442=yield networkTest_1[_0x141f63(0x17c)][_0x141f63(0x15d)]({'active':!![]});if(!_0x3f4442)return _0xcdf006[_0x141f63(0x1a3)](0x194);_0xcdf006[_0x141f63(0x17e)](_0x141f63(0x145));});exports[a10_0x7d17c(0x15e)]=networkPing;const retrieveNetworkTestSummary=(_0x135073,_0x2e79cc)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x433ea3=a10_0x7d17c;try{const _0x802af4=yield networkTest_1['default']['findById'](_0x135073[_0x433ea3(0x192)]['id'])[_0x433ea3(0x149)]();if(!_0x802af4)return _0x2e79cc[_0x433ea3(0x155)](0x190)[_0x433ea3(0x17e)](_0x433ea3(0x152));const _0x5a20a9=yield centreModel_1[_0x433ea3(0x17c)][_0x433ea3(0x15d)]({})[_0x433ea3(0x149)]();if(!_0x5a20a9)return _0x2e79cc[_0x433ea3(0x155)](0x190)[_0x433ea3(0x17e)](_0x433ea3(0x193));const _0x3ffcec={'testedComputers':_0x802af4[_0x433ea3(0x173)],'capacity':_0x5a20a9[_0x433ea3(0x14e)],'capacityMatched':_0x802af4['connectedComputers']>=_0x5a20a9[_0x433ea3(0x14e)],'networkLosses':_0x802af4[_0x433ea3(0x166)],'networkLossesThreshold':_0x802af4['totalNetworkLosses']<0x2d,'duration':_0x802af4[_0x433ea3(0x17b)],'durationMatched':_0x802af4[_0x433ea3(0x17b)]>=0x3c*0x3c*0x3e8,'responsesPercentage':_0x802af4[_0x433ea3(0x185)],'responsesPercentageMatched':Number(_0x802af4[_0x433ea3(0x185)])>=0x5a,'canUpload':_0x802af4['connectedComputers']>=_0x5a20a9[_0x433ea3(0x14e)]&&_0x802af4[_0x433ea3(0x166)]<0x2d&&_0x802af4[_0x433ea3(0x17b)]>=0x3c*0x3c*0x3e8&&Number(_0x802af4[_0x433ea3(0x185)])>=0x5a};_0x2e79cc[_0x433ea3(0x17e)](_0x3ffcec);}catch(_0x1f2f4e){_0x2e79cc[_0x433ea3(0x1a3)](0x1f4);}});exports['retrieveNetworkTestSummary']=retrieveNetworkTestSummary;