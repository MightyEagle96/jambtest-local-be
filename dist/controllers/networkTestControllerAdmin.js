'use strict';const a10_0x2b6a42=a10_0x2b0b;(function(_0x5ecd2c,_0x122a14){const _0x17d050=a10_0x2b0b,_0x2f3648=_0x5ecd2c();while(!![]){try{const _0x561fbb=parseInt(_0x17d050(0xc9))/0x1+-parseInt(_0x17d050(0xcc))/0x2*(-parseInt(_0x17d050(0xc4))/0x3)+parseInt(_0x17d050(0xe1))/0x4*(parseInt(_0x17d050(0x9b))/0x5)+-parseInt(_0x17d050(0xa1))/0x6+-parseInt(_0x17d050(0xb1))/0x7+-parseInt(_0x17d050(0xc8))/0x8*(parseInt(_0x17d050(0xbd))/0x9)+parseInt(_0x17d050(0xc3))/0xa*(parseInt(_0x17d050(0xe3))/0xb);if(_0x561fbb===_0x122a14)break;else _0x2f3648['push'](_0x2f3648['shift']());}catch(_0x192f06){_0x2f3648['push'](_0x2f3648['shift']());}}}(a10_0x1ca1,0x46fd4));function a10_0x2b0b(_0x5149db,_0x1230d5){const _0x1ca1f9=a10_0x1ca1();return a10_0x2b0b=function(_0x2b0bad,_0x5a6d88){_0x2b0bad=_0x2b0bad-0x9b;let _0xff62e0=_0x1ca1f9[_0x2b0bad];return _0xff62e0;},a10_0x2b0b(_0x5149db,_0x1230d5);}var __awaiter=this&&this[a10_0x2b6a42(0xfc)]||function(_0x3d77bc,_0x3acc51,_0x3bc2bc,_0x359eae){function _0x152fa2(_0x537633){return _0x537633 instanceof _0x3bc2bc?_0x537633:new _0x3bc2bc(function(_0x5340d3){_0x5340d3(_0x537633);});}return new(_0x3bc2bc||(_0x3bc2bc=Promise))(function(_0xab51d0,_0x4578e5){const _0x99a41a=a10_0x2b0b;function _0x2d8bb1(_0x3a23bf){const _0x5fe5f0=a10_0x2b0b;try{_0x1d7694(_0x359eae[_0x5fe5f0(0xc5)](_0x3a23bf));}catch(_0x343198){_0x4578e5(_0x343198);}}function _0x1cdaa3(_0x1448b9){const _0xe4f9c6=a10_0x2b0b;try{_0x1d7694(_0x359eae[_0xe4f9c6(0xe7)](_0x1448b9));}catch(_0x36d42a){_0x4578e5(_0x36d42a);}}function _0x1d7694(_0x17a857){const _0x59fa57=a10_0x2b0b;_0x17a857[_0x59fa57(0xed)]?_0xab51d0(_0x17a857['value']):_0x152fa2(_0x17a857[_0x59fa57(0xbb)])['then'](_0x2d8bb1,_0x1cdaa3);}_0x1d7694((_0x359eae=_0x359eae['apply'](_0x3d77bc,_0x3acc51||[]))[_0x99a41a(0xc5)]());});},__importDefault=this&&this['__importDefault']||function(_0x301d60){const _0x4d3f56=a10_0x2b6a42;return _0x301d60&&_0x301d60[_0x4d3f56(0x102)]?_0x301d60:{'default':_0x301d60};};Object[a10_0x2b6a42(0xec)](exports,a10_0x2b6a42(0x102),{'value':!![]}),exports['retrieveNetworkTestSummary']=exports[a10_0x2b6a42(0xa2)]=exports[a10_0x2b6a42(0xba)]=exports[a10_0x2b6a42(0x104)]=exports[a10_0x2b6a42(0xf0)]=exports[a10_0x2b6a42(0xd8)]=exports['toggleActivation']=exports[a10_0x2b6a42(0xeb)]=exports[a10_0x2b6a42(0xa9)]=exports[a10_0x2b6a42(0xa3)]=void 0x0;const appNetwork_1=require(a10_0x2b6a42(0x9f)),centreModel_1=__importDefault(require(a10_0x2b6a42(0xde))),networkTest_1=__importDefault(require('../models/networkTest')),networkTestResponse_1=__importDefault(require(a10_0x2b6a42(0xf1))),mongoose_1=__importDefault(require(a10_0x2b6a42(0xbc))),computerModel_1=__importDefault(require(a10_0x2b6a42(0xac))),generateId_1=require('./generateId'),activeTestIntervals=new Map(),checkLastActive=_0x453623=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1197bc=a10_0x2b6a42,_0x244e7a=new Date(Date['now']()-0x3c*0x3e8),_0x47b1fd=yield networkTestResponse_1['default'][_0x1197bc(0xbe)]({'networkTest':_0x453623,'updatedAt':{'$lt':_0x244e7a}});for(const _0x48b0b0 of _0x47b1fd){_0x48b0b0[_0x1197bc(0xad)]===_0x1197bc(0xe4)&&(_0x48b0b0[_0x1197bc(0xad)]='disconnected',_0x48b0b0[_0x1197bc(0xe8)]+=0x1,yield _0x48b0b0[_0x1197bc(0x9c)]());}}),createNetworkTest=(_0x99183b,_0x3a4fde)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5db79d=a10_0x2b6a42;var _0x2e2150;const _0x5541b2=yield networkTest_1['default'][_0x5db79d(0xb0)]({'status':{'$ne':'uploaded'}});if(_0x5541b2)return _0x3a4fde[_0x5db79d(0xad)](0x190)[_0x5db79d(0xf8)](_0x5db79d(0xaf));const [_0x44e787,_0x33dbc8]=yield Promise[_0x5db79d(0xcd)]([computerModel_1[_0x5db79d(0xb7)]['countDocuments'](),computerModel_1[_0x5db79d(0xb7)][_0x5db79d(0xce)]({'status':_0x5db79d(0xf7)})]);if(_0x33dbc8===0x0)return _0x3a4fde[_0x5db79d(0xad)](0x190)['send'](_0x5db79d(0xff));if(_0x44e787!==_0x33dbc8)return _0x3a4fde[_0x5db79d(0xad)](0x190)[_0x5db79d(0xf8)](_0x5db79d(0xa0));const _0x136dfb=(0x0,generateId_1[_0x5db79d(0xa4)])();_0x99183b[_0x5db79d(0xb4)][_0x5db79d(0xa6)]=Number(_0x99183b[_0x5db79d(0xb4)]['duration']*0x3c*0x3e8),_0x99183b['body'][_0x5db79d(0x9d)]=(_0x2e2150=_0x99183b[_0x5db79d(0x9d)])===null||_0x2e2150===void 0x0?void 0x0:_0x2e2150[_0x5db79d(0xe2)]['toString'](),_0x99183b[_0x5db79d(0xb4)]['examId']=_0x136dfb,yield networkTest_1['default'][_0x5db79d(0xf6)](_0x99183b['body']),_0x3a4fde[_0x5db79d(0xf8)]('New\x20network\x20test\x20created');});exports['createNetworkTest']=createNetworkTest;const viewNetworkTests=(_0x4c2ba0,_0x3da7e2)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1ea244=a10_0x2b6a42;var _0x1f062e,_0x10ed9e;try{const _0x37ece1=_0x4c2ba0['query']['page']||0x1,_0x1e5284=_0x4c2ba0[_0x1ea244(0xd2)][_0x1ea244(0x106)]||0x32,_0x32f4d9=yield networkTest_1[_0x1ea244(0xb7)][_0x1ea244(0xbe)]({'centre':(_0x1f062e=_0x4c2ba0['centre'])===null||_0x1f062e===void 0x0?void 0x0:_0x1f062e[_0x1ea244(0xe2)][_0x1ea244(0xd0)]()})['skip']((_0x37ece1-0x1)*_0x1e5284)['limit'](_0x1e5284)['lean'](),_0x6a58e3=yield networkTest_1['default']['countDocuments']({'centre':(_0x10ed9e=_0x4c2ba0['centre'])===null||_0x10ed9e===void 0x0?void 0x0:_0x10ed9e[_0x1ea244(0xe2)]['toString']()}),_0x4e78f4=_0x32f4d9[_0x1ea244(0xb5)]((_0x18525f,_0x165ca3)=>{return Object['assign'](Object['assign']({},_0x18525f),{'id':(_0x37ece1-0x1)*_0x1e5284+_0x165ca3+0x1});});_0x3da7e2[_0x1ea244(0xf8)]({'total':_0x6a58e3,'networkTests':_0x4e78f4});}catch(_0x33291b){_0x3da7e2[_0x1ea244(0xad)](0x1f4)[_0x1ea244(0xf8)](_0x1ea244(0xfe));}});exports[a10_0x2b6a42(0xa9)]=viewNetworkTests;const deleteNetworkTest=(_0x219669,_0x2b38ad)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x51a9fe=a10_0x2b6a42;try{const _0x1f7784=_0x219669[_0x51a9fe(0xd2)]['id'],_0x1ac20f=yield networkTest_1[_0x51a9fe(0xb7)]['findById'](_0x1f7784);if(!_0x1ac20f)return _0x2b38ad[_0x51a9fe(0xad)](0x194)[_0x51a9fe(0xf8)](_0x51a9fe(0xd9));if(_0x1ac20f[_0x51a9fe(0xc0)])return _0x2b38ad[_0x51a9fe(0xad)](0x190)['send'](_0x51a9fe(0xc6));const _0x2727b8=activeTestIntervals[_0x51a9fe(0xee)](_0x1f7784);_0x2727b8&&(clearInterval(_0x2727b8),activeTestIntervals['delete'](_0x1f7784)),yield networkTest_1['default']['findByIdAndDelete'](_0x1f7784),yield networkTestResponse_1[_0x51a9fe(0xb7)][_0x51a9fe(0x103)]({'networkTest':_0x1f7784}),_0x2b38ad['send'](_0x51a9fe(0xaa));}catch(_0x231020){console[_0x51a9fe(0xfa)]('Delete\x20network\x20test\x20error:',_0x231020),_0x2b38ad[_0x51a9fe(0xad)](0x1f4)[_0x51a9fe(0xf8)](_0x51a9fe(0xfe));}});exports[a10_0x2b6a42(0xeb)]=deleteNetworkTest;const toggleActivation=(_0xc55864,_0x5e46e0)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5ace3f=a10_0x2b6a42;try{const _0x12312e=_0xc55864[_0x5ace3f(0xd2)]['id'];if(!_0x12312e)return _0x5e46e0[_0x5ace3f(0xad)](0x190)[_0x5ace3f(0xf8)](_0x5ace3f(0xcf));const _0x2bfd12=yield networkTest_1[_0x5ace3f(0xb7)][_0x5ace3f(0xe6)](_0x12312e);console[_0x5ace3f(0xb8)](_0x2bfd12);if(!_0x2bfd12)return _0x5e46e0[_0x5ace3f(0xad)](0x194)[_0x5ace3f(0xf8)](_0x5ace3f(0xc2));if(_0x2bfd12[_0x5ace3f(0xc0)]){if(!_0x2bfd12[_0x5ace3f(0xea)])return _0x5e46e0[_0x5ace3f(0xad)](0x190)[_0x5ace3f(0xf8)](_0x5ace3f(0xa7));const _0x257543=activeTestIntervals[_0x5ace3f(0xee)](_0x12312e);return _0x257543&&(clearInterval(_0x257543),activeTestIntervals[_0x5ace3f(0xa8)](_0x12312e)),_0x2bfd12[_0x5ace3f(0xc0)]=![],_0x2bfd12['ended']=!![],_0x2bfd12[_0x5ace3f(0x9e)]=new Date(),yield _0x2bfd12[_0x5ace3f(0x9c)](),_0x5e46e0[_0x5ace3f(0xf8)](_0x5ace3f(0xd6));}const _0x57ea2f=yield networkTest_1[_0x5ace3f(0xb7)][_0x5ace3f(0xb0)]({'active':!![],'ended':![]});if(_0x57ea2f)return _0x5e46e0[_0x5ace3f(0xad)](0x190)[_0x5ace3f(0xf8)]('Another\x20test\x20is\x20currently\x20active\x20and\x20not\x20yet\x20ended.');activeTestIntervals['has'](_0x12312e)&&(clearInterval(activeTestIntervals['get'](_0x12312e)),activeTestIntervals[_0x5ace3f(0xa8)](_0x12312e));yield networkTest_1[_0x5ace3f(0xb7)]['updateOne']({'_id':_0x12312e},{'$set':{'active':!![],'ended':![],'timeActivated':new Date()}}),_0x2bfd12['active']=!![],_0x2bfd12['ended']=![],_0x2bfd12[_0x5ace3f(0xe5)]=new Date(),yield _0x2bfd12['save']();const _0x24c3d5=setInterval(()=>{const _0x53b8e6=_0x5ace3f;checkLastActive(_0x12312e),console['log']('['+new Date()[_0x53b8e6(0xb6)]()+_0x53b8e6(0xcb)+_0x12312e);},0xa*0x3e8);return activeTestIntervals[_0x5ace3f(0xb9)](_0x12312e,_0x24c3d5),_0x5e46e0[_0x5ace3f(0xf8)](_0x5ace3f(0xda));}catch(_0x39edd6){console[_0x5ace3f(0xfa)](_0x5ace3f(0x105),_0x39edd6),_0x5e46e0[_0x5ace3f(0xad)](0x1f4)[_0x5ace3f(0xf8)](_0x5ace3f(0xf4));}});exports[a10_0x2b6a42(0xc1)]=toggleActivation;const endNetworkTestForAdmin=(_0x90da94,_0x28963d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4c03ef=a10_0x2b6a42;var _0x552a19,_0x4724e5;try{const _0x693c92=_0x90da94[_0x4c03ef(0xd2)]['id'],_0x5cf366=yield networkTest_1['default']['findById'](_0x693c92);if(!_0x5cf366)return _0x28963d[_0x4c03ef(0xad)](0x194)[_0x4c03ef(0xf8)]('Test\x20not\x20found');const _0x32b101=activeTestIntervals['get'](_0x693c92);_0x32b101&&(clearInterval(_0x32b101),activeTestIntervals[_0x4c03ef(0xa8)](_0x693c92));const [_0x31510c,_0x26dcc8,_0x3b2ca9,_0x281ddd,_0xfbb27b,_0x4dde81,_0x2b9ac4]=yield Promise['all']([networkTestResponse_1[_0x4c03ef(0xb7)]['countDocuments']({'networkTest':_0x693c92}),networkTestResponse_1['default']['countDocuments']({'networkTest':_0x693c92,'status':_0x4c03ef(0xe4)}),networkTestResponse_1[_0x4c03ef(0xb7)]['countDocuments']({'networkTest':_0x693c92,'networkLosses':{'$gt':0x0}}),networkTestResponse_1[_0x4c03ef(0xb7)][_0x4c03ef(0xdb)]([{'$match':{'networkTest':new mongoose_1[(_0x4c03ef(0xb7))][(_0x4c03ef(0xd3))][(_0x4c03ef(0xae))](_0x693c92)}},{'$group':{'_id':null,'total':{'$sum':'$networkLosses'}}}]),networkTestResponse_1[_0x4c03ef(0xb7)][_0x4c03ef(0xce)]({'networkTest':_0x693c92,'status':'ended'}),networkTestResponse_1[_0x4c03ef(0xb7)]['countDocuments']({'networkTest':_0x693c92,'status':_0x4c03ef(0x101)}),networkTestResponse_1[_0x4c03ef(0xb7)]['aggregate']([{'$match':{'networkTest':new mongoose_1['default'][(_0x4c03ef(0xd3))]['ObjectId'](_0x693c92)}},{'$group':{'_id':null,'total':{'$sum':_0x4c03ef(0xc7)}}}])]);yield networkTest_1['default']['updateOne']({'_id':_0x693c92},{'$set':{'active':![],'ended':!![],'timeEnded':new Date(),'totalNetworkLosses':((_0x552a19=_0x281ddd[0x0])===null||_0x552a19===void 0x0?void 0x0:_0x552a19[_0x4c03ef(0xca)])||0x0,'computersWithNetworkLosses':_0x3b2ca9,'connectedComputers':_0x31510c,'endedComputers':_0xfbb27b,'lostInTransport':_0x4dde81+_0x26dcc8,'responseThroughput':((((_0x4724e5=_0x2b9ac4[0x0])===null||_0x4724e5===void 0x0?void 0x0:_0x4724e5[_0x4c03ef(0xca)])||0x0)/(_0x31510c*(_0x5cf366===null||_0x5cf366===void 0x0?void 0x0:_0x5cf366['duration'])/0x3e8/0x3c)*0x64)[_0x4c03ef(0xfd)](0x2)}}),_0x28963d[_0x4c03ef(0xf8)](_0x4c03ef(0xe9));}catch(_0xc867a5){console[_0x4c03ef(0xfa)](_0x4c03ef(0xf3),_0xc867a5),_0x28963d[_0x4c03ef(0xad)](0x1f4)['send'](_0x4c03ef(0xd4));}});exports[a10_0x2b6a42(0xd8)]=endNetworkTestForAdmin;const networkTestDashboard=(_0x1aa50e,_0xfa7565)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x24cd3e=a10_0x2b6a42;var _0x555491,_0x3c3470,_0x592e77,_0xb6b39b,_0x34d2fa;try{const _0x75892b=yield networkTest_1[_0x24cd3e(0xb7)]['findById'](_0x1aa50e[_0x24cd3e(0xd2)]['id']);if(!_0x75892b)return _0xfa7565[_0x24cd3e(0xad)](0x190)['send'](_0x24cd3e(0xc2));const [_0x513180,_0x39271d,_0x3382df,_0x260471,_0x934b22,_0x29c31e,_0x1a55b6]=yield Promise['all']([networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xce)]({'networkTest':_0x1aa50e['query']['id']}),networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xce)]({'networkTest':_0x1aa50e[_0x24cd3e(0xd2)]['id'],'status':_0x24cd3e(0xe4)}),networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xce)]({'networkTest':_0x1aa50e[_0x24cd3e(0xd2)]['id'],'networkLosses':{'$gt':0x0}}),networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xdb)]([{'$match':{'networkTest':new mongoose_1['default'][(_0x24cd3e(0xd3))][(_0x24cd3e(0xae))]((_0x555491=_0x1aa50e['query']['id'])===null||_0x555491===void 0x0?void 0x0:_0x555491['toString']())}},{'$group':{'_id':null,'total':{'$sum':_0x24cd3e(0xab)}}}]),networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xce)]({'networkTest':_0x1aa50e['query']['id'],'status':_0x24cd3e(0xea)}),networkTestResponse_1['default'][_0x24cd3e(0xce)]({'networkTest':_0x1aa50e[_0x24cd3e(0xd2)]['id'],'status':_0x24cd3e(0x101)}),networkTestResponse_1[_0x24cd3e(0xb7)][_0x24cd3e(0xdb)]([{'$match':{'networkTest':new mongoose_1['default'][(_0x24cd3e(0xd3))][(_0x24cd3e(0xae))]((_0x3c3470=_0x1aa50e[_0x24cd3e(0xd2)]['id'])===null||_0x3c3470===void 0x0?void 0x0:_0x3c3470[_0x24cd3e(0xd0)]())}},{'$group':{'_id':null,'total':{'$sum':_0x24cd3e(0xc7)}}}])]);_0xfa7565[_0x24cd3e(0xf8)]({'totalComputers':_0x513180,'connected':_0x39271d,'computersWithNetworkLosses':_0x3382df,'totalNetworkLosses':((_0x592e77=_0x260471[0x0])===null||_0x592e77===void 0x0?void 0x0:_0x592e77[_0x24cd3e(0xca)])||0x0,'ended':_0x934b22,'disconnected':_0x29c31e,'totalResponses':((_0xb6b39b=_0x1a55b6[0x0])===null||_0xb6b39b===void 0x0?void 0x0:_0xb6b39b[_0x24cd3e(0xca)])||0x0,'expected':_0x513180*(_0x75892b===null||_0x75892b===void 0x0?void 0x0:_0x75892b[_0x24cd3e(0xa6)])/0x3e8/0x3c,'responseThroughput':((((_0x34d2fa=_0x1a55b6[0x0])===null||_0x34d2fa===void 0x0?void 0x0:_0x34d2fa[_0x24cd3e(0xca)])||0x0)/(_0x513180*(_0x75892b===null||_0x75892b===void 0x0?void 0x0:_0x75892b[_0x24cd3e(0xa6)])/0x3e8/0x3c)*0x64)[_0x24cd3e(0xfd)](0x2)});}catch(_0x1a7773){_0xfa7565[_0x24cd3e(0xad)](0x1f4)[_0x24cd3e(0xf8)](_0x24cd3e(0xd4));}});exports[a10_0x2b6a42(0xf0)]=networkTestDashboard;function a10_0x1ca1(){const _0xbeda91=['$networkLosses','../models/computerModel','status','ObjectId','A\x20test\x20is\x20yet\x20to\x20be\x20uploaded','findOne','1800778JGQSER','pong','skip','body','map','toISOString','default','log','set','uploadNetworkTest','value','mongoose','3953727NMzsEB','find','assign','active','toggleActivation','Test\x20not\x20found','835540vfVNSX','210kYThJD','next','Please\x20end\x20this\x20test\x20before\x20you\x20delete\x20it','$responses','8ummTKr','435316CMVtIE','total',']\x20Background\x20check\x20for\x20','584IPiyAg','all','countDocuments','Invalid\x20test\x20ID','toString','networktest/uploadtest','query','Types','Server\x20error','responseThroughput','Test\x20deactivated\x20successfully.','populate','endNetworkTestForAdmin','Network\x20test\x20not\x20found','Test\x20activated\x20successfully.','aggregate','computer','lean','../models/centreModel','CentreCapacity','connectedComputers','1652OmGQfg','_id','22bLbGXV','connected','timeActivated','findById','throw','networkLosses','Test\x20ended\x20successfully','ended','deleteNetworkTest','defineProperty','done','get','post','networkTestDashboard','../models/networkTestResponse','page','End\x20network\x20test\x20error:','Internal\x20server\x20error.','sendStatus','create','uploaded','send','params','error','httpService','__awaiter','toFixed','Internal\x20server\x20error','No\x20computers\x20uploaded','retrieveNetworkTestSummary','disconnected','__esModule','deleteMany','computerListUnderNetworkTest','Toggle\x20activation\x20error:','limit','5305yXhxbY','save','centre','timeEnded','../appNetwork','All\x20computers\x20must\x20be\x20uploaded\x20before\x20creating\x20a\x20test','442368nAfIQN','networkPing','createNetworkTest','generateId','updateOne','duration','Cannot\x20deactivate\x20â€”\x20test\x20not\x20ended\x20yet.','delete','viewNetworkTests','Network\x20test\x20deleted\x20successfully'];a10_0x1ca1=function(){return _0xbeda91;};return a10_0x1ca1();}const computerListUnderNetworkTest=(_0x473d60,_0x1ec686)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1ae062=a10_0x2b6a42,_0x3c7c9a=_0x473d60['query'][_0x1ae062(0xf2)]||0x1,_0x2de2fb=_0x473d60[_0x1ae062(0xd2)][_0x1ae062(0x106)]||0x32,_0x590b37=yield networkTestResponse_1[_0x1ae062(0xb7)][_0x1ae062(0xbe)]({'networkTest':_0x473d60[_0x1ae062(0xf9)]['id']})[_0x1ae062(0xd7)](_0x1ae062(0xdc))[_0x1ae062(0xb3)]((_0x3c7c9a-0x1)*_0x2de2fb)[_0x1ae062(0x106)](_0x2de2fb)[_0x1ae062(0xdd)](),_0x3f6f24=yield networkTestResponse_1[_0x1ae062(0xb7)][_0x1ae062(0xce)]({'networkTest':_0x473d60[_0x1ae062(0xf9)]['id']}),_0x2cd34f=_0x590b37[_0x1ae062(0xb5)]((_0x19ca6f,_0x53cb99)=>{const _0x179074=_0x1ae062;return Object[_0x179074(0xbf)](Object['assign']({},_0x19ca6f),{'id':(_0x3c7c9a-0x1)*_0x2de2fb+_0x53cb99+0x1});});_0x1ec686['send']({'total':_0x3f6f24,'computers':_0x2cd34f});});exports[a10_0x2b6a42(0x104)]=computerListUnderNetworkTest;const uploadNetworkTest=(_0x12f412,_0x410aa2)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x44db32=a10_0x2b6a42;var _0x2ea815;try{const _0x47baa7=_0x12f412[_0x44db32(0xd2)]['id'],_0x149de7=yield networkTest_1['default'][_0x44db32(0xe6)](_0x47baa7),_0x4ee23f=yield networkTestResponse_1[_0x44db32(0xb7)][_0x44db32(0xbe)]({'networkTest':_0x47baa7}),_0x42db53=yield appNetwork_1[_0x44db32(0xfb)][_0x44db32(0xef)](_0x44db32(0xd1),{'networkTest':_0x149de7,'responses':_0x4ee23f},{'params':{'centre':(_0x2ea815=_0x12f412['centre'])===null||_0x2ea815===void 0x0?void 0x0:_0x2ea815[_0x44db32(0xe2)][_0x44db32(0xd0)]()}});_0x42db53['status']===0xc8&&(yield networkTest_1['default'][_0x44db32(0xa5)]({'_id':_0x47baa7},{'status':_0x44db32(0xf7),'timeUploaded':new Date()})),_0x410aa2[_0x44db32(0xad)](_0x42db53[_0x44db32(0xad)])['send'](_0x42db53['data']);}catch(_0x4d236d){_0x410aa2[_0x44db32(0xad)](0x1f4)[_0x44db32(0xf8)](_0x44db32(0xfe));}});exports[a10_0x2b6a42(0xba)]=uploadNetworkTest;const networkPing=(_0x4087ea,_0x1d2c26)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x183cf9=a10_0x2b6a42,_0x4ad20=yield networkTest_1['default']['findOne']({'active':!![]});if(!_0x4ad20)return _0x1d2c26['sendStatus'](0x194);_0x1d2c26['send'](_0x183cf9(0xb2));});exports[a10_0x2b6a42(0xa2)]=networkPing;const retrieveNetworkTestSummary=(_0x5b9d09,_0x3f7536)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x13328a=a10_0x2b6a42;try{const _0x550e09=yield networkTest_1['default']['findById'](_0x5b9d09[_0x13328a(0xd2)]['id'])[_0x13328a(0xdd)]();if(!_0x550e09)return _0x3f7536[_0x13328a(0xad)](0x190)['send']('Test\x20not\x20found');const _0x3f44ac=yield centreModel_1[_0x13328a(0xb7)][_0x13328a(0xb0)]({})[_0x13328a(0xdd)]();if(!_0x3f44ac)return _0x3f7536[_0x13328a(0xad)](0x190)[_0x13328a(0xf8)]('Centre\x20not\x20found');const _0x2c1931={'testedComputers':_0x550e09[_0x13328a(0xe0)],'capacity':_0x3f44ac[_0x13328a(0xdf)],'capacityMatched':_0x550e09[_0x13328a(0xe0)]>=_0x3f44ac[_0x13328a(0xdf)],'networkLosses':_0x550e09['totalNetworkLosses'],'networkLossesThreshold':_0x550e09['totalNetworkLosses']<0x2d,'duration':_0x550e09[_0x13328a(0xa6)],'durationMatched':_0x550e09[_0x13328a(0xa6)]>=0x3c*0x3c*0x3e8,'responsesPercentage':_0x550e09[_0x13328a(0xd5)],'responsesPercentageMatched':Number(_0x550e09[_0x13328a(0xd5)])>=0x5a,'canUpload':_0x550e09[_0x13328a(0xe0)]>=_0x3f44ac[_0x13328a(0xdf)]&&_0x550e09['totalNetworkLosses']<0x2d&&_0x550e09['duration']>=0x3c*0x3c*0x3e8&&Number(_0x550e09['responseThroughput'])>=0x5a};_0x3f7536['send'](_0x2c1931);}catch(_0x2cb19c){_0x3f7536[_0x13328a(0xf5)](0x1f4);}});exports[a10_0x2b6a42(0x100)]=retrieveNetworkTestSummary;