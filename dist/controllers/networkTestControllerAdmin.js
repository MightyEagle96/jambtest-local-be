'use strict';const a8_0x55b15b=a8_0x30e3;(function(_0x1ea2c2,_0x282f4f){const _0x5657f9=a8_0x30e3,_0xfd61c8=_0x1ea2c2();while(!![]){try{const _0x3ab94e=parseInt(_0x5657f9(0x190))/0x1+-parseInt(_0x5657f9(0x177))/0x2+-parseInt(_0x5657f9(0x179))/0x3+-parseInt(_0x5657f9(0x170))/0x4+parseInt(_0x5657f9(0x15f))/0x5+-parseInt(_0x5657f9(0x1c2))/0x6+parseInt(_0x5657f9(0x195))/0x7*(parseInt(_0x5657f9(0x18d))/0x8);if(_0x3ab94e===_0x282f4f)break;else _0xfd61c8['push'](_0xfd61c8['shift']());}catch(_0x43a692){_0xfd61c8['push'](_0xfd61c8['shift']());}}}(a8_0x1024,0x8b50e));var __awaiter=this&&this[a8_0x55b15b(0x1c8)]||function(_0x42c0b8,_0x3363df,_0x3016d9,_0x3245d3){function _0x14a14c(_0x329999){return _0x329999 instanceof _0x3016d9?_0x329999:new _0x3016d9(function(_0x321651){_0x321651(_0x329999);});}return new(_0x3016d9||(_0x3016d9=Promise))(function(_0x7a3238,_0x1dc36a){const _0x498f9f=a8_0x30e3;function _0x1e5597(_0x8f5702){const _0x3f1912=a8_0x30e3;try{_0x4c0c3b(_0x3245d3[_0x3f1912(0x1bd)](_0x8f5702));}catch(_0x100b14){_0x1dc36a(_0x100b14);}}function _0x1c17ba(_0x19f031){const _0x38220f=a8_0x30e3;try{_0x4c0c3b(_0x3245d3[_0x38220f(0x171)](_0x19f031));}catch(_0x27ac91){_0x1dc36a(_0x27ac91);}}function _0x4c0c3b(_0x593b7c){const _0x24e240=a8_0x30e3;_0x593b7c[_0x24e240(0x1b1)]?_0x7a3238(_0x593b7c[_0x24e240(0x1ae)]):_0x14a14c(_0x593b7c[_0x24e240(0x1ae)])[_0x24e240(0x15b)](_0x1e5597,_0x1c17ba);}_0x4c0c3b((_0x3245d3=_0x3245d3['apply'](_0x42c0b8,_0x3363df||[]))[_0x498f9f(0x1bd)]());});},__importDefault=this&&this['__importDefault']||function(_0xbb9812){const _0x44823c=a8_0x55b15b;return _0xbb9812&&_0xbb9812[_0x44823c(0x1ac)]?_0xbb9812:{'default':_0xbb9812};};Object[a8_0x55b15b(0x19e)](exports,a8_0x55b15b(0x1ac),{'value':!![]}),exports[a8_0x55b15b(0x1aa)]=exports[a8_0x55b15b(0x186)]=exports['uploadNetworkTest']=exports['computerListUnderNetworkTest']=exports[a8_0x55b15b(0x189)]=exports[a8_0x55b15b(0x16a)]=exports[a8_0x55b15b(0x15e)]=exports[a8_0x55b15b(0x1a6)]=exports[a8_0x55b15b(0x18c)]=exports[a8_0x55b15b(0x168)]=void 0x0;function a8_0x1024(){const _0x5cc88a=['save','375416IQBTyc','No\x20computers\x20uploaded','1211058FxHrgi','centre','Toggle\x20activation\x20error:','sendStatus','../models/centreModel','data','has','timeActivated','create','set','skip','uploadNetworkTest','assign','networkPing','post','params','networkTestDashboard','connected','httpService','viewNetworkTests','16448968hBhoBE','Network\x20test\x20deleted\x20successfully','./generateId','552263KKlmba','Please\x20end\x20this\x20test\x20before\x20you\x20delete\x20it','all','page','Test\x20deactivated\x20successfully.','7GJRaGu','ObjectId','connectedComputers','generateId','_id','mongoose','Delete\x20network\x20test\x20error:','ended','New\x20network\x20test\x20created','defineProperty','updateOne','get','body','lean','A\x20test\x20is\x20yet\x20to\x20be\x20uploaded',']\x20Background\x20check\x20for\x20','status','deleteNetworkTest','Internal\x20server\x20error','active','toString','retrieveNetworkTestSummary','query','__esModule','send','value','populate','countDocuments','done','findById','timeEnded','findByIdAndDelete','Test\x20not\x20found','examId','responseThroughput','Server\x20error','duration','Network\x20test\x20not\x20found','limit','Cannot\x20deactivate\x20â€”\x20test\x20not\x20ended\x20yet.','next','default','Centre\x20not\x20found','../models/computerModel','networkLosses','6188496bRdAbf','now','CentreCapacity','aggregate','Test\x20ended\x20successfully','delete','__awaiter','disconnected','computerListUnderNetworkTest','then','computer','uploaded','toggleActivation','1525485cxaxkj','error','toISOString','Internal\x20server\x20error.','../appNetwork','../models/networkTest','$networkLosses','Another\x20test\x20is\x20currently\x20active\x20and\x20not\x20yet\x20ended.','Types','createNetworkTest','Test\x20activated\x20successfully.','endNetworkTestForAdmin','map','find','total','deleteMany','$responses','2880132sXHhtS','throw','totalNetworkLosses','log','pong','findOne'];a8_0x1024=function(){return _0x5cc88a;};return a8_0x1024();}const appNetwork_1=require(a8_0x55b15b(0x163)),centreModel_1=__importDefault(require(a8_0x55b15b(0x17d))),networkTest_1=__importDefault(require(a8_0x55b15b(0x164))),networkTestResponse_1=__importDefault(require('../models/networkTestResponse')),mongoose_1=__importDefault(require(a8_0x55b15b(0x19a))),computerModel_1=__importDefault(require(a8_0x55b15b(0x1c0))),generateId_1=require(a8_0x55b15b(0x18f)),activeTestIntervals=new Map(),checkLastActive=_0x46bfc1=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1a345c=a8_0x55b15b,_0x4b4049=new Date(Date[_0x1a345c(0x1c3)]()-0x3c*0x3e8),_0x38935e=yield networkTestResponse_1[_0x1a345c(0x1be)][_0x1a345c(0x16c)]({'networkTest':_0x46bfc1,'updatedAt':{'$lt':_0x4b4049}});for(const _0x4da3a4 of _0x38935e){_0x4da3a4[_0x1a345c(0x1a5)]===_0x1a345c(0x18a)&&(_0x4da3a4['status']=_0x1a345c(0x159),_0x4da3a4[_0x1a345c(0x1c1)]+=0x1,yield _0x4da3a4[_0x1a345c(0x176)]());}}),createNetworkTest=(_0x57aa5,_0x1692f9)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xe532d3=a8_0x55b15b;var _0x52acb3;const _0x2e79f2=yield networkTest_1['default'][_0xe532d3(0x175)]({'status':{'$ne':_0xe532d3(0x15d)}});if(_0x2e79f2)return _0x1692f9[_0xe532d3(0x1a5)](0x190)[_0xe532d3(0x1ad)](_0xe532d3(0x1a3));const [_0x2de2ad,_0x53d407]=yield Promise[_0xe532d3(0x192)]([computerModel_1[_0xe532d3(0x1be)][_0xe532d3(0x1b0)](),computerModel_1[_0xe532d3(0x1be)][_0xe532d3(0x1b0)]({'status':_0xe532d3(0x15d)})]);if(_0x53d407===0x0)return _0x1692f9['status'](0x190)[_0xe532d3(0x1ad)](_0xe532d3(0x178));if(_0x2de2ad!==_0x53d407)return _0x1692f9['status'](0x190)[_0xe532d3(0x1ad)]('All\x20computers\x20must\x20be\x20uploaded\x20before\x20creating\x20a\x20test');const _0x3bb1be=(0x0,generateId_1[_0xe532d3(0x198)])();_0x57aa5[_0xe532d3(0x1a1)][_0xe532d3(0x1b9)]=Number(_0x57aa5[_0xe532d3(0x1a1)][_0xe532d3(0x1b9)]*0x3c*0x3e8),_0x57aa5['body'][_0xe532d3(0x17a)]=(_0x52acb3=_0x57aa5[_0xe532d3(0x17a)])===null||_0x52acb3===void 0x0?void 0x0:_0x52acb3[_0xe532d3(0x199)]['toString'](),_0x57aa5[_0xe532d3(0x1a1)][_0xe532d3(0x1b6)]=_0x3bb1be,yield networkTest_1[_0xe532d3(0x1be)][_0xe532d3(0x181)](_0x57aa5[_0xe532d3(0x1a1)]),_0x1692f9[_0xe532d3(0x1ad)](_0xe532d3(0x19d));});exports[a8_0x55b15b(0x168)]=createNetworkTest;const viewNetworkTests=(_0xa6c91e,_0xb03136)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5123cd=a8_0x55b15b;var _0x1519d8,_0x40b945;try{const _0x40627d=_0xa6c91e['query'][_0x5123cd(0x193)]||0x1,_0xab55e4=_0xa6c91e[_0x5123cd(0x1ab)][_0x5123cd(0x1bb)]||0x32,_0x2eb921=yield networkTest_1[_0x5123cd(0x1be)][_0x5123cd(0x16c)]({'centre':(_0x1519d8=_0xa6c91e['centre'])===null||_0x1519d8===void 0x0?void 0x0:_0x1519d8[_0x5123cd(0x199)][_0x5123cd(0x1a9)]()})['skip']((_0x40627d-0x1)*_0xab55e4)[_0x5123cd(0x1bb)](_0xab55e4)[_0x5123cd(0x1a2)](),_0x28548e=yield networkTest_1[_0x5123cd(0x1be)][_0x5123cd(0x1b0)]({'centre':(_0x40b945=_0xa6c91e[_0x5123cd(0x17a)])===null||_0x40b945===void 0x0?void 0x0:_0x40b945[_0x5123cd(0x199)][_0x5123cd(0x1a9)]()}),_0xca8eb7=_0x2eb921[_0x5123cd(0x16b)]((_0x380b6f,_0xc79194)=>{const _0x5e6d2e=_0x5123cd;return Object[_0x5e6d2e(0x185)](Object[_0x5e6d2e(0x185)]({},_0x380b6f),{'id':(_0x40627d-0x1)*_0xab55e4+_0xc79194+0x1});});_0xb03136[_0x5123cd(0x1ad)]({'total':_0x28548e,'networkTests':_0xca8eb7});}catch(_0x219ee9){_0xb03136[_0x5123cd(0x1a5)](0x1f4)[_0x5123cd(0x1ad)]('Internal\x20server\x20error');}});exports[a8_0x55b15b(0x18c)]=viewNetworkTests;const deleteNetworkTest=(_0x22ba84,_0x127a3b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x322328=a8_0x55b15b;try{const _0x3dd905=_0x22ba84[_0x322328(0x1ab)]['id'],_0x3ee629=yield networkTest_1['default'][_0x322328(0x1b2)](_0x3dd905);if(!_0x3ee629)return _0x127a3b[_0x322328(0x1a5)](0x194)[_0x322328(0x1ad)](_0x322328(0x1ba));if(_0x3ee629[_0x322328(0x1a8)])return _0x127a3b[_0x322328(0x1a5)](0x190)[_0x322328(0x1ad)](_0x322328(0x191));const _0x5eedc0=activeTestIntervals[_0x322328(0x1a0)](_0x3dd905);_0x5eedc0&&(clearInterval(_0x5eedc0),activeTestIntervals['delete'](_0x3dd905)),yield networkTest_1[_0x322328(0x1be)][_0x322328(0x1b4)](_0x3dd905),yield networkTestResponse_1[_0x322328(0x1be)][_0x322328(0x16e)]({'networkTest':_0x3dd905}),_0x127a3b[_0x322328(0x1ad)](_0x322328(0x18e));}catch(_0x449b39){console[_0x322328(0x160)](_0x322328(0x19b),_0x449b39),_0x127a3b[_0x322328(0x1a5)](0x1f4)[_0x322328(0x1ad)](_0x322328(0x1a7));}});exports['deleteNetworkTest']=deleteNetworkTest;const toggleActivation=(_0x2a2a2f,_0x4fedc9)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x6e8167=a8_0x55b15b;try{const _0x4b5ec3=_0x2a2a2f[_0x6e8167(0x1ab)]['id'];if(!_0x4b5ec3)return _0x4fedc9[_0x6e8167(0x1a5)](0x190)[_0x6e8167(0x1ad)]('Invalid\x20test\x20ID');const _0x3c8a8f=yield networkTest_1['default'][_0x6e8167(0x1b2)](_0x4b5ec3);console[_0x6e8167(0x173)](_0x3c8a8f);if(!_0x3c8a8f)return _0x4fedc9[_0x6e8167(0x1a5)](0x194)[_0x6e8167(0x1ad)]('Test\x20not\x20found');if(_0x3c8a8f['active']){if(!_0x3c8a8f[_0x6e8167(0x19c)])return _0x4fedc9[_0x6e8167(0x1a5)](0x190)[_0x6e8167(0x1ad)](_0x6e8167(0x1bc));const _0xb03678=activeTestIntervals[_0x6e8167(0x1a0)](_0x4b5ec3);return _0xb03678&&(clearInterval(_0xb03678),activeTestIntervals[_0x6e8167(0x1c7)](_0x4b5ec3)),_0x3c8a8f[_0x6e8167(0x1a8)]=![],_0x3c8a8f[_0x6e8167(0x19c)]=!![],_0x3c8a8f[_0x6e8167(0x1b3)]=new Date(),yield _0x3c8a8f['save'](),_0x4fedc9[_0x6e8167(0x1ad)](_0x6e8167(0x194));}const _0x1b520b=yield networkTest_1[_0x6e8167(0x1be)]['findOne']({'active':!![],'ended':![]});if(_0x1b520b)return _0x4fedc9[_0x6e8167(0x1a5)](0x190)['send'](_0x6e8167(0x166));activeTestIntervals[_0x6e8167(0x17f)](_0x4b5ec3)&&(clearInterval(activeTestIntervals[_0x6e8167(0x1a0)](_0x4b5ec3)),activeTestIntervals[_0x6e8167(0x1c7)](_0x4b5ec3));yield networkTest_1[_0x6e8167(0x1be)][_0x6e8167(0x19f)]({'_id':_0x4b5ec3},{'$set':{'active':!![],'ended':![],'timeActivated':new Date()}}),_0x3c8a8f[_0x6e8167(0x1a8)]=!![],_0x3c8a8f[_0x6e8167(0x19c)]=![],_0x3c8a8f[_0x6e8167(0x180)]=new Date(),yield _0x3c8a8f['save']();const _0x2723f0=setInterval(()=>{const _0x37edd0=_0x6e8167;checkLastActive(_0x4b5ec3),console[_0x37edd0(0x173)]('['+new Date()[_0x37edd0(0x161)]()+_0x37edd0(0x1a4)+_0x4b5ec3);},0xa*0x3e8);return activeTestIntervals[_0x6e8167(0x182)](_0x4b5ec3,_0x2723f0),_0x4fedc9[_0x6e8167(0x1ad)](_0x6e8167(0x169));}catch(_0x2cff52){console[_0x6e8167(0x160)](_0x6e8167(0x17b),_0x2cff52),_0x4fedc9[_0x6e8167(0x1a5)](0x1f4)['send'](_0x6e8167(0x162));}});exports[a8_0x55b15b(0x15e)]=toggleActivation;const endNetworkTestForAdmin=(_0x44d581,_0x14fbf6)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5ec154=a8_0x55b15b;var _0x20bc7f,_0x40fc06;try{const _0x2d7771=_0x44d581[_0x5ec154(0x1ab)]['id'],_0x52f84f=yield networkTest_1['default'][_0x5ec154(0x1b2)](_0x2d7771);if(!_0x52f84f)return _0x14fbf6[_0x5ec154(0x1a5)](0x194)[_0x5ec154(0x1ad)](_0x5ec154(0x1b5));const _0x57784e=activeTestIntervals['get'](_0x2d7771);_0x57784e&&(clearInterval(_0x57784e),activeTestIntervals[_0x5ec154(0x1c7)](_0x2d7771));const [_0x3c1cba,_0x5d62ee,_0x36e2d5,_0x23e415,_0x30cbf6,_0x2a5c7f,_0x518eee]=yield Promise[_0x5ec154(0x192)]([networkTestResponse_1[_0x5ec154(0x1be)]['countDocuments']({'networkTest':_0x2d7771}),networkTestResponse_1[_0x5ec154(0x1be)][_0x5ec154(0x1b0)]({'networkTest':_0x2d7771,'status':_0x5ec154(0x18a)}),networkTestResponse_1['default'][_0x5ec154(0x1b0)]({'networkTest':_0x2d7771,'networkLosses':{'$gt':0x0}}),networkTestResponse_1[_0x5ec154(0x1be)][_0x5ec154(0x1c5)]([{'$match':{'networkTest':new mongoose_1[(_0x5ec154(0x1be))][(_0x5ec154(0x167))][(_0x5ec154(0x196))](_0x2d7771)}},{'$group':{'_id':null,'total':{'$sum':_0x5ec154(0x165)}}}]),networkTestResponse_1[_0x5ec154(0x1be)][_0x5ec154(0x1b0)]({'networkTest':_0x2d7771,'status':'ended'}),networkTestResponse_1[_0x5ec154(0x1be)][_0x5ec154(0x1b0)]({'networkTest':_0x2d7771,'status':_0x5ec154(0x159)}),networkTestResponse_1[_0x5ec154(0x1be)][_0x5ec154(0x1c5)]([{'$match':{'networkTest':new mongoose_1['default'][(_0x5ec154(0x167))][(_0x5ec154(0x196))](_0x2d7771)}},{'$group':{'_id':null,'total':{'$sum':_0x5ec154(0x16f)}}}])]);yield networkTest_1['default'][_0x5ec154(0x19f)]({'_id':_0x2d7771},{'$set':{'active':![],'ended':!![],'timeEnded':new Date(),'totalNetworkLosses':((_0x20bc7f=_0x23e415[0x0])===null||_0x20bc7f===void 0x0?void 0x0:_0x20bc7f[_0x5ec154(0x16d)])||0x0,'computersWithNetworkLosses':_0x36e2d5,'connectedComputers':_0x3c1cba,'endedComputers':_0x30cbf6,'lostInTransport':_0x2a5c7f+_0x5d62ee,'responseThroughput':((((_0x40fc06=_0x518eee[0x0])===null||_0x40fc06===void 0x0?void 0x0:_0x40fc06[_0x5ec154(0x16d)])||0x0)/(_0x3c1cba*(_0x52f84f===null||_0x52f84f===void 0x0?void 0x0:_0x52f84f['duration'])/0x3e8/0x3c)*0x64)['toFixed'](0x2)}}),_0x14fbf6[_0x5ec154(0x1ad)](_0x5ec154(0x1c6));}catch(_0x3b80a2){console['error']('End\x20network\x20test\x20error:',_0x3b80a2),_0x14fbf6['status'](0x1f4)[_0x5ec154(0x1ad)](_0x5ec154(0x1b8));}});exports[a8_0x55b15b(0x16a)]=endNetworkTestForAdmin;const networkTestDashboard=(_0x110c45,_0x496ad0)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x402988=a8_0x55b15b;var _0x57918b,_0x86a63a,_0x134840,_0x4a9760,_0x12f17b;try{const _0x4cbb23=yield networkTest_1[_0x402988(0x1be)][_0x402988(0x1b2)](_0x110c45['query']['id']);if(!_0x4cbb23)return _0x496ad0[_0x402988(0x1a5)](0x190)[_0x402988(0x1ad)](_0x402988(0x1b5));const [_0x6690bc,_0x4e0ca5,_0x238068,_0x5c13e7,_0x351cbe,_0xd8246f,_0x211926]=yield Promise[_0x402988(0x192)]([networkTestResponse_1['default'][_0x402988(0x1b0)]({'networkTest':_0x110c45[_0x402988(0x1ab)]['id']}),networkTestResponse_1[_0x402988(0x1be)]['countDocuments']({'networkTest':_0x110c45['query']['id'],'status':_0x402988(0x18a)}),networkTestResponse_1[_0x402988(0x1be)][_0x402988(0x1b0)]({'networkTest':_0x110c45[_0x402988(0x1ab)]['id'],'networkLosses':{'$gt':0x0}}),networkTestResponse_1['default'][_0x402988(0x1c5)]([{'$match':{'networkTest':new mongoose_1[(_0x402988(0x1be))][(_0x402988(0x167))][(_0x402988(0x196))]((_0x57918b=_0x110c45[_0x402988(0x1ab)]['id'])===null||_0x57918b===void 0x0?void 0x0:_0x57918b[_0x402988(0x1a9)]())}},{'$group':{'_id':null,'total':{'$sum':_0x402988(0x165)}}}]),networkTestResponse_1['default']['countDocuments']({'networkTest':_0x110c45[_0x402988(0x1ab)]['id'],'status':_0x402988(0x19c)}),networkTestResponse_1[_0x402988(0x1be)][_0x402988(0x1b0)]({'networkTest':_0x110c45['query']['id'],'status':_0x402988(0x159)}),networkTestResponse_1['default'][_0x402988(0x1c5)]([{'$match':{'networkTest':new mongoose_1[(_0x402988(0x1be))][(_0x402988(0x167))][(_0x402988(0x196))]((_0x86a63a=_0x110c45[_0x402988(0x1ab)]['id'])===null||_0x86a63a===void 0x0?void 0x0:_0x86a63a[_0x402988(0x1a9)]())}},{'$group':{'_id':null,'total':{'$sum':_0x402988(0x16f)}}}])]);_0x496ad0[_0x402988(0x1ad)]({'totalComputers':_0x6690bc,'connected':_0x4e0ca5,'computersWithNetworkLosses':_0x238068,'totalNetworkLosses':((_0x134840=_0x5c13e7[0x0])===null||_0x134840===void 0x0?void 0x0:_0x134840['total'])||0x0,'ended':_0x351cbe,'disconnected':_0xd8246f,'totalResponses':((_0x4a9760=_0x211926[0x0])===null||_0x4a9760===void 0x0?void 0x0:_0x4a9760[_0x402988(0x16d)])||0x0,'expected':_0x6690bc*(_0x4cbb23===null||_0x4cbb23===void 0x0?void 0x0:_0x4cbb23[_0x402988(0x1b9)])/0x3e8/0x3c,'responseThroughput':((((_0x12f17b=_0x211926[0x0])===null||_0x12f17b===void 0x0?void 0x0:_0x12f17b[_0x402988(0x16d)])||0x0)/(_0x6690bc*(_0x4cbb23===null||_0x4cbb23===void 0x0?void 0x0:_0x4cbb23['duration'])/0x3e8/0x3c)*0x64)['toFixed'](0x2)});}catch(_0x271419){_0x496ad0[_0x402988(0x1a5)](0x1f4)[_0x402988(0x1ad)]('Server\x20error');}});exports['networkTestDashboard']=networkTestDashboard;function a8_0x30e3(_0x2f2622,_0x12536d){const _0x102441=a8_0x1024();return a8_0x30e3=function(_0x30e3d5,_0x38cd6a){_0x30e3d5=_0x30e3d5-0x159;let _0x3c8d2f=_0x102441[_0x30e3d5];return _0x3c8d2f;},a8_0x30e3(_0x2f2622,_0x12536d);}const computerListUnderNetworkTest=(_0x18ebe8,_0x1da382)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5099b9=a8_0x55b15b,_0x36302c=_0x18ebe8[_0x5099b9(0x1ab)]['page']||0x1,_0xcbf77e=_0x18ebe8[_0x5099b9(0x1ab)][_0x5099b9(0x1bb)]||0x32,_0x1d6996=yield networkTestResponse_1['default'][_0x5099b9(0x16c)]({'networkTest':_0x18ebe8[_0x5099b9(0x188)]['id']})[_0x5099b9(0x1af)](_0x5099b9(0x15c))[_0x5099b9(0x183)]((_0x36302c-0x1)*_0xcbf77e)['limit'](_0xcbf77e)[_0x5099b9(0x1a2)](),_0x1f73b3=yield networkTestResponse_1['default']['countDocuments']({'networkTest':_0x18ebe8[_0x5099b9(0x188)]['id']}),_0x14ce54=_0x1d6996[_0x5099b9(0x16b)]((_0x2d2367,_0x46a9a8)=>{const _0x2a5abc=_0x5099b9;return Object[_0x2a5abc(0x185)](Object['assign']({},_0x2d2367),{'id':(_0x36302c-0x1)*_0xcbf77e+_0x46a9a8+0x1});});_0x1da382[_0x5099b9(0x1ad)]({'total':_0x1f73b3,'computers':_0x14ce54});});exports[a8_0x55b15b(0x15a)]=computerListUnderNetworkTest;const uploadNetworkTest=(_0x57df8c,_0x54e26f)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5aac66=a8_0x55b15b;var _0x28a3be;try{const _0x4107b0=_0x57df8c[_0x5aac66(0x1ab)]['id'],_0x3f39c1=yield networkTest_1[_0x5aac66(0x1be)][_0x5aac66(0x1b2)](_0x4107b0),_0x2381e8=yield networkTestResponse_1[_0x5aac66(0x1be)][_0x5aac66(0x16c)]({'networkTest':_0x4107b0}),_0x2037af=yield appNetwork_1[_0x5aac66(0x18b)][_0x5aac66(0x187)]('networktest/uploadtest',{'networkTest':_0x3f39c1,'responses':_0x2381e8},{'params':{'centre':(_0x28a3be=_0x57df8c['centre'])===null||_0x28a3be===void 0x0?void 0x0:_0x28a3be[_0x5aac66(0x199)][_0x5aac66(0x1a9)]()}});_0x2037af[_0x5aac66(0x1a5)]===0xc8&&(yield networkTest_1['default']['updateOne']({'_id':_0x4107b0},{'status':_0x5aac66(0x15d),'timeUploaded':new Date()})),_0x54e26f[_0x5aac66(0x1a5)](_0x2037af[_0x5aac66(0x1a5)])[_0x5aac66(0x1ad)](_0x2037af[_0x5aac66(0x17e)]);}catch(_0x8db9b8){_0x54e26f[_0x5aac66(0x1a5)](0x1f4)[_0x5aac66(0x1ad)]('Internal\x20server\x20error');}});exports[a8_0x55b15b(0x184)]=uploadNetworkTest;const networkPing=(_0x5e498c,_0x1120ec)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1bdc78=a8_0x55b15b,_0x5ba2a3=yield networkTest_1[_0x1bdc78(0x1be)][_0x1bdc78(0x175)]({'active':!![]});if(!_0x5ba2a3)return _0x1120ec[_0x1bdc78(0x17c)](0x194);_0x1120ec[_0x1bdc78(0x1ad)](_0x1bdc78(0x174));});exports[a8_0x55b15b(0x186)]=networkPing;const retrieveNetworkTestSummary=(_0x155e54,_0xcbe2fe)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x55dbf8=a8_0x55b15b;try{const _0x83b367=yield networkTest_1[_0x55dbf8(0x1be)][_0x55dbf8(0x1b2)](_0x155e54['query']['id'])['lean']();if(!_0x83b367)return _0xcbe2fe[_0x55dbf8(0x1a5)](0x190)['send'](_0x55dbf8(0x1b5));const _0x2d0f70=yield centreModel_1['default'][_0x55dbf8(0x175)]({})[_0x55dbf8(0x1a2)]();if(!_0x2d0f70)return _0xcbe2fe['status'](0x190)[_0x55dbf8(0x1ad)](_0x55dbf8(0x1bf));const _0x4929ff={'testedComputers':_0x83b367[_0x55dbf8(0x197)],'capacity':_0x2d0f70[_0x55dbf8(0x1c4)],'capacityMatched':_0x83b367[_0x55dbf8(0x197)]>=_0x2d0f70[_0x55dbf8(0x1c4)],'networkLosses':_0x83b367[_0x55dbf8(0x172)],'networkLossesThreshold':_0x83b367[_0x55dbf8(0x172)]<0x2d,'duration':_0x83b367[_0x55dbf8(0x1b9)],'durationMatched':_0x83b367[_0x55dbf8(0x1b9)]>=0x3c*0x3c*0x3e8,'responsesPercentage':_0x83b367[_0x55dbf8(0x1b7)],'responsesPercentageMatched':Number(_0x83b367[_0x55dbf8(0x1b7)])>=0x5a,'canUpload':_0x83b367[_0x55dbf8(0x197)]>=_0x2d0f70['CentreCapacity']&&_0x83b367['totalNetworkLosses']<0x2d&&_0x83b367[_0x55dbf8(0x1b9)]>=0x3c*0x3c*0x3e8&&Number(_0x83b367[_0x55dbf8(0x1b7)])>=0x5a};_0xcbe2fe[_0x55dbf8(0x1ad)](_0x4929ff);}catch(_0x4866b6){_0xcbe2fe[_0x55dbf8(0x17c)](0x1f4);}});exports['retrieveNetworkTestSummary']=retrieveNetworkTestSummary;