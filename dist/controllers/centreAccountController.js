'use strict';const a6_0x5872ff=a6_0x1cd1;(function(_0x3e8664,_0x10c56c){const _0x3fff09=a6_0x1cd1,_0x478a77=_0x3e8664();while(!![]){try{const _0x5454bb=-parseInt(_0x3fff09(0x11e))/0x1*(parseInt(_0x3fff09(0x14c))/0x2)+-parseInt(_0x3fff09(0x132))/0x3+parseInt(_0x3fff09(0x14a))/0x4+parseInt(_0x3fff09(0x11d))/0x5+parseInt(_0x3fff09(0x115))/0x6*(-parseInt(_0x3fff09(0x118))/0x7)+parseInt(_0x3fff09(0x13e))/0x8+parseInt(_0x3fff09(0x119))/0x9;if(_0x5454bb===_0x10c56c)break;else _0x478a77['push'](_0x478a77['shift']());}catch(_0x43cb5b){_0x478a77['push'](_0x478a77['shift']());}}}(a6_0x146e,0xe5399));var __awaiter=this&&this[a6_0x5872ff(0x122)]||function(_0x42ce26,_0x39eaa4,_0x71504d,_0x536788){function _0x1c4c3a(_0x3ce7eb){return _0x3ce7eb instanceof _0x71504d?_0x3ce7eb:new _0x71504d(function(_0x421c5f){_0x421c5f(_0x3ce7eb);});}return new(_0x71504d||(_0x71504d=Promise))(function(_0x4f2010,_0x4e4a9a){function _0x322980(_0x59e6c3){const _0x4d0bd7=a6_0x1cd1;try{_0x5f222c(_0x536788[_0x4d0bd7(0x137)](_0x59e6c3));}catch(_0x4df826){_0x4e4a9a(_0x4df826);}}function _0x3c4ae4(_0x4207f6){const _0x3e5964=a6_0x1cd1;try{_0x5f222c(_0x536788[_0x3e5964(0x12d)](_0x4207f6));}catch(_0x23f557){_0x4e4a9a(_0x23f557);}}function _0x5f222c(_0x2dcdba){const _0x1364aa=a6_0x1cd1;_0x2dcdba[_0x1364aa(0x13a)]?_0x4f2010(_0x2dcdba[_0x1364aa(0x125)]):_0x1c4c3a(_0x2dcdba[_0x1364aa(0x125)])[_0x1364aa(0x113)](_0x322980,_0x3c4ae4);}_0x5f222c((_0x536788=_0x536788['apply'](_0x42ce26,_0x39eaa4||[]))['next']());});},__importDefault=this&&this['__importDefault']||function(_0x2311b2){const _0xd28699=a6_0x5872ff;return _0x2311b2&&_0x2311b2[_0xd28699(0x148)]?_0x2311b2:{'default':_0x2311b2};};function a6_0x1cd1(_0x28446a,_0x4853fd){const _0x146e71=a6_0x146e();return a6_0x1cd1=function(_0x1cd11f,_0x472d30){_0x1cd11f=_0x1cd11f-0x10c;let _0x4cc9f5=_0x146e71[_0x1cd11f];return _0x4cc9f5;},a6_0x1cd1(_0x28446a,_0x4853fd);}Object[a6_0x5872ff(0x145)](exports,a6_0x5872ff(0x148),{'value':!![]}),exports[a6_0x5872ff(0x10e)]=exports[a6_0x5872ff(0x126)]=exports[a6_0x5872ff(0x135)]=exports[a6_0x5872ff(0x138)]=exports[a6_0x5872ff(0x13f)]=exports[a6_0x5872ff(0x10f)]=void 0x0;const appNetwork_1=require(a6_0x5872ff(0x116)),centreModel_1=__importDefault(require(a6_0x5872ff(0x11b))),jwtController_1=require(a6_0x5872ff(0x117)),jsonwebtoken_1=__importDefault(require(a6_0x5872ff(0x121))),computerModel_1=__importDefault(require(a6_0x5872ff(0x143))),networkTest_1=__importDefault(require('../models/networkTest')),loginAccount=(_0x23b379,_0x13e452)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x15befa=a6_0x5872ff;try{const _0x4f321f=yield appNetwork_1[_0x15befa(0x14b)][_0x15befa(0x142)]('centre/login',_0x23b379[_0x15befa(0x13c)]);if(_0x4f321f[_0x15befa(0x149)]!==0xc8)return _0x13e452[_0x15befa(0x13d)](_0x15befa(0x139))[_0x15befa(0x13d)](_0x15befa(0x130))[_0x15befa(0x149)](_0x4f321f[_0x15befa(0x149)])[_0x15befa(0x141)](_0x4f321f[_0x15befa(0x10c)]);const {centre:_0x57dca7,computers:_0x28aaa7,networkTests:_0x284513}=_0x4f321f[_0x15befa(0x10c)];if(!_0x57dca7||!_0x28aaa7||!_0x284513)return _0x13e452[_0x15befa(0x149)](0x190)[_0x15befa(0x141)](_0x15befa(0x140));yield Promise[_0x15befa(0x144)]([centreModel_1['default'][_0x15befa(0x12c)](),computerModel_1['default']['deleteMany'](),networkTest_1[_0x15befa(0x127)][_0x15befa(0x12c)]()]),yield centreModel_1[_0x15befa(0x127)][_0x15befa(0x12a)](_0x57dca7),yield computerModel_1[_0x15befa(0x127)]['insertMany'](_0x28aaa7),yield networkTest_1[_0x15befa(0x127)][_0x15befa(0x111)](_0x284513);const _0x4a56a2=(0x0,jwtController_1[_0x15befa(0x136)])(Object[_0x15befa(0x124)](Object[_0x15befa(0x124)]({},_0x57dca7),{'role':_0x15befa(0x123)})),_0x242d4c=(0x0,jwtController_1[_0x15befa(0x12f)])(Object[_0x15befa(0x124)](Object[_0x15befa(0x124)]({},_0x57dca7),{'role':_0x15befa(0x123)}));_0x13e452[_0x15befa(0x131)](_0x15befa(0x139),_0x4a56a2,{'httpOnly':![],'secure':!![],'sameSite':_0x15befa(0x10d),'maxAge':0x3e8*0x3c*0x3c*0x18})[_0x15befa(0x131)](_0x15befa(0x130),_0x242d4c,{'httpOnly':![],'secure':!![],'sameSite':_0x15befa(0x10d),'maxAge':0x3e8*0x3c*0x3c*0x18*0x7})[_0x15befa(0x141)](_0x15befa(0x112));}catch(_0x54ee40){console[_0x15befa(0x11c)](_0x15befa(0x11f),_0x54ee40[_0x15befa(0x114)]),_0x13e452['status'](0x1f4)[_0x15befa(0x141)](_0x15befa(0x147));}});exports['loginAccount']=loginAccount;const logoutAccount=(_0x184d40,_0x104ff6)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x4baf4b=a6_0x5872ff;yield Promise[_0x4baf4b(0x144)]([centreModel_1[_0x4baf4b(0x127)][_0x4baf4b(0x12c)](),computerModel_1[_0x4baf4b(0x127)][_0x4baf4b(0x12c)]()]),_0x104ff6[_0x4baf4b(0x13d)](_0x4baf4b(0x139))[_0x4baf4b(0x13d)](_0x4baf4b(0x130))[_0x4baf4b(0x141)](_0x4baf4b(0x112));});exports['logoutAccount']=logoutAccount;const centreProfile=(_0x402ce1,_0x35ea0a)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x1dad21=a6_0x5872ff;_0x35ea0a['send'](_0x402ce1[_0x1dad21(0x129)]);});exports['centreProfile']=centreProfile;const getRefreshToken=(_0x452895,_0x359081)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x59d098=a6_0x5872ff,_0x42d5d6=_0x452895[_0x59d098(0x146)][jwtController_1['tokens']['refreshToken']];if(!_0x42d5d6)return _0x359081[_0x59d098(0x12e)](0x191);try{const _0x4f668a=jsonwebtoken_1[_0x59d098(0x127)][_0x59d098(0x134)](_0x42d5d6,process[_0x59d098(0x13b)][_0x59d098(0x128)]),_0x1aa4a6=yield centreModel_1[_0x59d098(0x127)][_0x59d098(0x110)](_0x4f668a[_0x59d098(0x11a)])[_0x59d098(0x133)]();if(!_0x1aa4a6)return _0x359081['sendStatus'](0x191);const _0x464f2f=(0x0,jwtController_1['generateAccessToken'])(Object[_0x59d098(0x124)](Object[_0x59d098(0x124)]({},_0x1aa4a6),{'role':_0x59d098(0x123)})),_0x1dd656=(0x0,jwtController_1[_0x59d098(0x12f)])(Object['assign'](Object[_0x59d098(0x124)]({},_0x1aa4a6),{'role':_0x59d098(0x123)}));_0x359081[_0x59d098(0x131)]('accessToken',_0x464f2f,{'httpOnly':![],'secure':!![],'sameSite':'none','maxAge':0x3e8*0x3c*0x3c*0x18})[_0x59d098(0x131)](_0x59d098(0x130),_0x1dd656,{'httpOnly':![],'secure':!![],'sameSite':_0x59d098(0x10d),'maxAge':0x3e8*0x3c*0x3c*0x18*0x7})['send']('Success');}catch(_0x2fb20b){_0x359081['status'](0x191)[_0x59d098(0x141)](_0x59d098(0x12b));}});function a6_0x146e(){const _0x200c6d=['done','env','body','clearCookie','14537536dXNIgB','logoutAccount','Incomplete\x20response\x20data','send','post','../models/computerModel','all','defineProperty','cookies','Something\x20went\x20wrong','__esModule','status','484240tkoTkY','httpService','398644QCuYEi','data','none','centreDetail','loginAccount','findById','insertMany','Success','then','message','1555446jkODpa','../appNetwork','./jwtController','14QchAZN','778113CMckCW','_id','../models/centreModel','error','6284210oxlCWA','3yjLyPc','Login\x20error:','findOne','jsonwebtoken','__awaiter','admin','assign','value','centreDashboard','default','REFRESH_TOKEN','centre','create','Invalid\x20refresh\x20token','deleteMany','throw','sendStatus','generateRefreshToken','refreshToken','cookie','3678594LNWIUe','lean','verify','getRefreshToken','generateAccessToken','next','centreProfile','accessToken'];a6_0x146e=function(){return _0x200c6d;};return a6_0x146e();}exports[a6_0x5872ff(0x135)]=getRefreshToken;const centreDashboard=(_0x156d3d,_0x32c33e)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x45419c=a6_0x5872ff;var _0x3bcd43;const _0x403189=yield(0x0,appNetwork_1[_0x45419c(0x14b)])('centre/dashboard',{'headers':{'centreid':(_0x3bcd43=_0x156d3d['centre'])===null||_0x3bcd43===void 0x0?void 0x0:_0x3bcd43[_0x45419c(0x11a)]['toString']()}});_0x32c33e[_0x45419c(0x149)](_0x403189['status'])[_0x45419c(0x141)](_0x403189[_0x45419c(0x10c)]);});exports[a6_0x5872ff(0x126)]=centreDashboard;const centreDetail=(_0x4d62ef,_0x34db10)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0xa15892=a6_0x5872ff,_0x27a7fe=yield centreModel_1[_0xa15892(0x127)][_0xa15892(0x120)]();_0x34db10['send'](_0x27a7fe);});exports[a6_0x5872ff(0x10e)]=centreDetail;